import{r as x,t as je,R as ge,i as D,j as e,C as ve,d as es,k as w,e as ss,f as rs,m as as,L as t,I as h,h as ls,E as u,G as p,H as j,J as g,K as l,c as m,a4 as O,T as ts,S as ee,ay as ns,D as Ne,o as fe,p as ye,q as be,s as ke,w as we}from"./index-DOc7Nwb7.js";import{T as Ce}from"./textarea-BtxBxzdY.js";import{C as cs}from"./calendar-CRg26W4I.js";import{m as se,S as is,P as ds,g as os,h as xs}from"./DashboardLayout-aHnUqq57.js";import{c as U}from"./utils-BC5CVi_C.js";import{S as E}from"./separator-BWuYil37.js";import{A as ms,a as re,b as ae,c as le}from"./accordion-BvRtf4FI.js";import{T as te}from"./target-cfAj3L6j.js";import{T as Se}from"./trending-up-eUiO956o.js";import{C as Re}from"./circle-check-C5kiwRoG.js";import{P as z}from"./plus-BaQ35Jcx.js";import{S as Ae}from"./scale-BCebIfgE.js";import{C as Te}from"./calendar-BlLJlGbj.js";import{C as ne}from"./clock-osbacZli.js";import{S as Me}from"./save-CvVmWchr.js";import{D as Oe}from"./dollar-sign-M9UCfTjq.js";import{A as ze}from"./arrow-right-M96iV-v9.js";import{f as hs}from"./format-H2tx8_vS.js";function Ps({clientId:ce,initialData:r,onSuccess:ie,onCancel:Ie}){var pe;const[d,$]=x.useState(1),{data:I}=je.clients.get.useQuery({id:ce},{enabled:!r,refetchOnWindowFocus:!1}),[H,Fe]=x.useState((r==null?void 0:r.title)||""),[o,F]=x.useState({goals:r!=null&&r.vision?[r.vision]:[],industry:(r==null?void 0:r.industry)||"tech",orgSize:(r==null?void 0:r.orgSize)||"mid",riskAppetite:(r==null?void 0:r.riskAppetite)||3}),[y,P]=x.useState({frameworks:r!=null&&r.framework?[r.framework]:[],deadline:r==null?void 0:r.deadline,auditType:(r==null?void 0:r.auditType)||"readiness"});ge.useEffect(()=>{I&&!r&&(F(s=>({...s,industry:I.industry||"",orgSize:I.size||"",riskAppetite:3})),(I.industry==="Cybersecurity"||I.industry==="Tech")&&P(s=>({...s,frameworks:[...s.frameworks,"ISO 27001:2022"]})))},[I,r]);const[A,L]=x.useState({maturityLevel:(r==null?void 0:r.maturityLevel)||"Initial",keyAssets:(r==null?void 0:r.keyAssets)||[],recentIncidents:(r==null?void 0:r.recentIncidents)||""}),[us,ps]=x.useState((r==null?void 0:r.vision)||""),[js,gs]=x.useState((r==null?void 0:r.description)||""),[v,K]=x.useState(()=>(console.log("Initializing objectives from initialData:",r),r!=null&&r.detailedObjectives?(console.log("Using detailedObjectives:",r.detailedObjectives),r.detailedObjectives):r!=null&&r.objectives&&Array.isArray(r.objectives)?(console.log("Creating objectives from string array:",r.objectives),r.objectives.map(s=>({id:crypto.randomUUID(),title:s,alignment:r.vision||"",priority:"High",horizon:"Q1",owner:"TBD",estimatedHours:40,budget:0,complexity:"Medium"}))):(console.log("No initial objectives, returning empty array"),[]))),[C,Y]=x.useState(()=>r!=null&&r.metrics?r.metrics:r!=null&&r.kpiTargets&&Array.isArray(r.kpiTargets)?r.kpiTargets.map(s=>({id:crypto.randomUUID(),name:s.name,type:s.unit==="%"?"Percentage":"Count",targetValue:s.target,frequency:"Quarterly"})):[]),[S,W]=x.useState({reviewCadence:(r==null?void 0:r.reviewCadence)||"Monthly",oversightCommittee:(r==null?void 0:r.oversightCommittee)||"",reportingFormat:(r==null?void 0:r.reportingFormat)||"Dashboard"}),[R,Q]=x.useState({id:"",name:"",type:"Percentage",targetValue:0,frequency:"Monthly"}),[b,T]=x.useState(""),de=()=>{b&&(!c.linkedRisks||!c.linkedRisks.includes(b))&&(k({...c,linkedRisks:[...c.linkedRisks||[],b]}),T(""))},Ee=s=>{k({...c,linkedRisks:(c.linkedRisks||[]).filter(a=>a!==s)})},Pe=()=>{R.name&&(Y([...C,{...R,id:crypto.randomUUID()}]),Q({id:"",name:"",type:"Percentage",targetValue:0,frequency:"Monthly"}))},Ve=s=>{Y(C.filter(a=>a.id!==s))},V=je.roadmap.createStrategic.useMutation({onSuccess:s=>{D.success(r!=null&&r.id?"Roadmap updated successfully!":"Strategic Roadmap created successfully!"),ie&&ie(s)},onError:s=>{D.error("Failed to create roadmap: "+s.message)}}),[c,k]=x.useState({id:"",title:"",alignment:"none",priority:"Medium",horizon:"Q1",owner:"",linkedRisks:[],description:""}),[He,B]=x.useState(!1),[n,f]=x.useState(null),[Le,G]=x.useState(!1),[N,M]=x.useState(null),Qe=()=>{c.title&&(K([...v,{...c,id:crypto.randomUUID()}]),k({id:"",title:"",alignment:"none",priority:"Medium",horizon:"Q1",owner:"",linkedRisks:[],description:""}))},Be=s=>{console.log("Opening edit dialog for objective:",s),f(s),T(""),B(!0)},Ge=()=>{if(!n)return;console.log("Saving edited objective:",n),console.log("Current objectives before update:",v);const s=v.map(a=>a.id===n.id?n:a);console.log("Objectives after update:",s),K(s),B(!1),f(null),T("")},oe=()=>{B(!1),f(null),T("")},qe=s=>{console.log("Opening edit dialog for metric:",s),M(s),G(!0)},Ue=()=>{if(!N)return;console.log("Saving edited metric:",N),console.log("Current metrics before update:",C);const s=C.map(a=>a.id===N.id?N:a);console.log("Metrics after update:",s),Y(s),G(!1),M(null)},$e=()=>{G(!1),M(null)},Ke=s=>{K(v.filter(a=>a.id!==s)),(n==null?void 0:n.id)===s&&oe()},xe=s=>{s&&!o.goals.includes(s)&&F(a=>({...a,goals:[...a.goals,s]}))},Ye=s=>{F(a=>({...a,goals:a.goals.filter(i=>i!==s)}))},me=s=>{s&&!y.frameworks.includes(s)&&P(a=>({...a,frameworks:[...a.frameworks,s]}))},We=s=>{P(a=>({...a,frameworks:a.frameworks.filter(i=>i!==s)}))},_e=()=>$(d+1),Je=()=>$(d-1),Xe=()=>{var a;if(!H||v.length===0){D.error("Please provide a title and at least one objective.");return}const s=`
GOALS: ${o.goals.join(", ")}
INDUSTRY: ${o.industry}
RISK_APPETITE: ${o.riskAppetite}/5
MATURITY: ${A.maturityLevel}
        `.trim();V.mutate({clientId:ce,roadmapId:r==null?void 0:r.id,title:H,vision:s,description:JSON.stringify({drivers:y,posture:A,businessContext:o,detailedObjectives:v,metrics:C,governance:S}),objectives:v.map(i=>i.title||""),framework:((a=y.frameworks)==null?void 0:a[0])||"",targetDate:y.deadline,kpiTargets:C.filter(i=>i.name&&i.targetValue!==void 0).map(i=>({name:i.name||"",target:i.targetValue||0,unit:i.type==="Percentage"?"%":i.type==="Currency"?"$":i.type?i.type.toLowerCase():"count"}))})},Ze=[{number:1,title:"Strategic Context",icon:te,description:"Vision, Drivers & Posture"},{number:2,title:"Key Objectives",icon:se,description:"Define actionable milestones"},{number:3,title:"Execution & Governance",icon:Se,description:"Targets, budget & oversight"},{number:4,title:"Preview & Finalize",icon:Re,description:"Review and generate roadmap"}],[_,J]=x.useState(""),[X,Z]=x.useState(""),[q,he]=x.useState("");ge.useEffect(()=>{console.log("Objectives state updated:",v)},[v]);const ue=()=>{q&&!A.keyAssets.includes(q)&&(L(s=>({...s,keyAssets:[...s.keyAssets,q]})),he(""))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-8 w-full items-start font-sans",children:[e.jsx(ve,{className:"w-80 shrink-0 border-none shadow-none bg-transparent",children:e.jsxs("div",{className:"space-y-8 relative",children:[e.jsx("div",{className:"absolute left-[19px] top-4 bottom-4 w-0.5 bg-border -z-10"}),Ze.map(s=>{const a=d===s.number,i=d>s.number,De=s.icon;return e.jsxs("div",{className:"flex gap-4 items-start group cursor-pointer",onClick:()=>$(s.number),children:[e.jsx("div",{className:U("relative w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 bg-background",a?"border-primary text-primary shadow-[0_0_0_4px_rgba(var(--primary),0.1)]":i?"border-primary bg-primary text-primary-foreground":"border-muted-foreground/30 text-muted-foreground"),children:i?e.jsx(Re,{className:"w-5 h-5"}):e.jsx(De,{className:"w-5 h-5"})}),e.jsxs("div",{className:U("pt-1 transition-colors duration-300",a?"text-foreground":"text-muted-foreground"),children:[e.jsx("h3",{className:"font-semibold text-sm leading-none mb-1.5 uppercase tracking-wide",children:s.title}),e.jsx("p",{className:"text-xs max-w-[180px] leading-relaxed",children:s.description})]})]},s.number)})]})}),e.jsxs(ve,{className:"flex-1 card-enhanced card-accent-left accent-info animate-in slide-in-from-right-4 duration-500",children:[e.jsx(es,{className:"border-b pb-6",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs(w,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20 uppercase tracking-widest text-[10px] font-bold px-2 py-0.5",children:["Step ",d," of 4"]}),e.jsx(w,{variant:"secondary",className:"text-[10px] font-medium text-muted-foreground",children:"Phase 2: Deep Context"})]}),e.jsxs(ss,{className:"text-2xl font-bold tracking-tight",children:[d===1&&"Strategic Context & Vision",d===2&&"Outline Core Objectives",d===3&&"Metrics & Governance",d===4&&"Final Review"]}),e.jsxs(rs,{className:"text-base mt-2",children:[d===1&&"Establish the 'Why' - Define business goals, compliance drivers, and current security posture.",d===2&&"Break down the vision into actionable, tactical objectives.",d===3&&"Set measurable targets, define ownership, and establish governance.",d===4&&"Review your strategic roadmap before finalizing."]})]})})}),e.jsxs(as,{className:"p-6 min-h-[400px]",children:[d===1&&e.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"text-xs uppercase font-bold text-muted-foreground tracking-wider",children:["Roadmap Title ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(h,{placeholder:"e.g. FY26 Enterprise Security Transformation",value:H,onChange:s=>Fe(s.target.value),className:"h-12 text-base font-medium bg-muted/30 border-input transition-colors focus:bg-background",autoFocus:!0})]}),e.jsxs(ms,{type:"single",collapsible:!0,defaultValue:"context",className:"w-full space-y-4",children:[e.jsxs(re,{value:"context",className:"border rounded-lg bg-card px-4",children:[e.jsx(ae,{className:"hover:no-underline py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-md bg-primary/10 text-primary",children:e.jsx(ls,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Organizational Context"}),e.jsx("p",{className:"text-xs text-muted-foreground font-normal",children:"Business goals, industry, and risk appetite"})]})]})}),e.jsxs(le,{className:"pt-2 pb-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Industry Sector"}),e.jsxs(u,{onValueChange:s=>F(a=>({...a,industry:s})),value:o.industry,children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select Industry"})}),e.jsxs(g,{children:[e.jsx(l,{value:"finance",children:"Finance & Banking"}),e.jsx(l,{value:"healthcare",children:"Healthcare"}),e.jsx(l,{value:"tech",children:"Technology / SaaS"}),e.jsx(l,{value:"retail",children:"Retail & E-commerce"}),e.jsx(l,{value:"manufacturing",children:"Manufacturing"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Organization Size"}),e.jsxs(u,{onValueChange:s=>F(a=>({...a,orgSize:s})),value:o.orgSize,children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select Size"})}),e.jsxs(g,{children:[e.jsx(l,{value:"sme",children:"SME (1-50 employees)"}),e.jsx(l,{value:"mid",children:"Mid-Market (51-500)"}),e.jsx(l,{value:"enterprise",children:"Enterprise (500-5000)"}),e.jsx(l,{value:"global",children:"Global Enterprise (5000+)"})]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"text-xs",children:"Strategic Business Goals"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{placeholder:"Add a goal (e.g. Market Expansion, Digital Transformation)",value:_,onChange:s=>J(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),xe(_),J(""))}}),e.jsx(m,{size:"icon",variant:"outline",onClick:()=>{xe(_),J("")},children:e.jsx(z,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[40px]",children:[o.goals.map(s=>e.jsxs(w,{variant:"secondary",className:"px-3 py-1 text-xs gap-2",children:[s,e.jsx(O,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>Ye(s)})]},s)),o.goals.length===0&&e.jsx("span",{className:"text-xs text-muted-foreground italic pl-1",children:"No goals added yet."})]})]}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(t,{className:"text-xs",children:"Risk Appetite"}),e.jsxs("span",{className:"text-xs font-bold text-primary",children:[o.riskAppetite===1&&"Very Low (Averse)",o.riskAppetite===2&&"Low (Conservative)",o.riskAppetite===3&&"Balanced (Moderate)",o.riskAppetite===4&&"High (Open)",o.riskAppetite===5&&"Very High (Aggressive)"]})]}),e.jsx(is,{value:[o.riskAppetite],min:1,max:5,step:1,onValueChange:s=>F(a=>({...a,riskAppetite:s[0]})),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-[10px] text-muted-foreground px-1",children:[e.jsx("span",{children:"Averse"}),e.jsx("span",{children:"Aggressive"})]})]})]})]}),e.jsxs(re,{value:"drivers",className:"border rounded-lg bg-card px-4",children:[e.jsx(ae,{className:"hover:no-underline py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-md bg-info/10 text-info",children:e.jsx(Ae,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Regulatory Drivers"}),e.jsx("p",{className:"text-xs text-muted-foreground font-normal",children:"Frameworks, audit types, and deadlines"})]})]})}),e.jsxs(le,{className:"pt-2 pb-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"text-xs",children:"Required Frameworks"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{placeholder:"Add framework (e.g. SOC 2 Type II, ISO 27001:2022)",value:X,onChange:s=>Z(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),me(X),Z(""))}}),e.jsx(m,{size:"icon",variant:"outline",onClick:()=>{me(X),Z("")},children:e.jsx(z,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[40px]",children:[y.frameworks.map(s=>e.jsxs(w,{variant:"outline",className:"px-3 py-1 text-xs gap-2 border-primary/20 bg-primary/5 text-primary",children:[s,e.jsx(O,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>We(s)})]},s)),y.frameworks.length===0&&e.jsx("span",{className:"text-xs text-muted-foreground italic pl-1",children:"No frameworks added yet."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Audit / Assessment Type"}),e.jsxs(u,{onValueChange:s=>P(a=>({...a,auditType:s})),value:y.auditType,children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select Type"})}),e.jsxs(g,{children:[e.jsx(l,{value:"readiness",children:"Readiness Assessment"}),e.jsx(l,{value:"initial",children:"Initial Certification"}),e.jsx(l,{value:"surveillance",children:"Surveillance Audit"}),e.jsx(l,{value:"recertification",children:"Re-certification"}),e.jsx(l,{value:"internal",children:"Internal Audit Only"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Target Deadline"}),e.jsxs(ds,{children:[e.jsx(os,{asChild:!0,children:e.jsxs(m,{variant:"outline",className:U("w-full justify-start text-left font-normal",!y.deadline&&"text-muted-foreground"),children:[e.jsx(Te,{className:"mr-2 h-4 w-4"}),y.deadline?hs(y.deadline,"PPP"):e.jsx("span",{children:"Pick a date"})]})}),e.jsx(xs,{className:"w-auto p-0",children:e.jsx(cs,{mode:"single",selected:y.deadline,onSelect:s=>P(a=>({...a,deadline:s})),initialFocus:!0})})]})]})]})]})]}),e.jsxs(re,{value:"posture",className:"border rounded-lg bg-card px-4 border-b-0",children:[e.jsx(ae,{className:"hover:no-underline py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-md bg-warning/10 text-warning",children:e.jsx(ts,{className:"w-5 h-5"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Security Posture"}),e.jsx("p",{className:"text-xs text-muted-foreground font-normal",children:"Current maturity and key assets"})]})]})}),e.jsxs(le,{className:"pt-2 pb-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Current Maturity Level (CMMI/NIST)"}),e.jsxs(u,{onValueChange:s=>L(a=>({...a,maturityLevel:s})),value:A.maturityLevel,children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select Maturity"})}),e.jsxs(g,{children:[e.jsx(l,{value:"Initial",children:"Tier 1: Initial / Ad-hoc"}),e.jsx(l,{value:"Managed",children:"Tier 2: Managed / Repeatable"}),e.jsx(l,{value:"Defined",children:"Tier 3: Defined Process"}),e.jsx(l,{value:"Quantitative",children:"Tier 4: Quantitatively Managed"}),e.jsx(l,{value:"Optimizing",children:"Tier 5: Optimizing"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(t,{className:"text-xs",children:"Critical Assets in Scope"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{placeholder:"Add asset (e.g. Customer PII, Payment Gateway)",value:q,onChange:s=>he(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),ue())}}),e.jsx(m,{size:"icon",variant:"outline",onClick:ue,children:e.jsx(z,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 min-h-[40px]",children:[A.keyAssets.map(s=>e.jsxs(w,{variant:"secondary",className:"px-3 py-1 text-xs gap-2",children:[s,e.jsx(O,{className:"h-3 w-3 cursor-pointer hover:text-destructive",onClick:()=>L(a=>({...a,keyAssets:a.keyAssets.filter(i=>i!==s)}))})]},s)),A.keyAssets.length===0&&e.jsx("span",{className:"text-xs text-muted-foreground italic pl-1",children:"No major assets defined."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Recent Incidents or Known Risks"}),e.jsx(Ce,{placeholder:"Briefly describe any recent security incidents or major known risks...",value:A.recentIncidents,onChange:s=>L(a=>({...a,recentIncidents:s.target.value})),className:"h-20 bg-muted/30"})]})]})]})]})]}),d===2&&e.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(t,{className:"text-xs uppercase font-bold text-muted-foreground tracking-wider",children:"Strategic Objectives"}),e.jsx(E,{className:"flex-1"})]}),e.jsxs("div",{className:"p-4 rounded-lg border bg-muted/20 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-8 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Objective Title"}),e.jsx(h,{placeholder:"e.g. Implement Zero Trust Architecture",value:c.title,onChange:s=>k({...c,title:s.target.value}),className:"bg-background"})]}),e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Alignment"}),e.jsxs(u,{value:c.alignment,onValueChange:s=>k({...c,alignment:s}),children:[e.jsx(p,{className:"bg-background",children:e.jsx(j,{placeholder:"Align with..."})}),e.jsxs(g,{children:[e.jsx(l,{value:"none",children:"No specific alignment"}),o.goals.map((s,a)=>e.jsx(l,{value:s,children:s},a))]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Priority"}),e.jsxs(u,{value:c.priority,onValueChange:s=>k({...c,priority:s}),children:[e.jsx(p,{className:"bg-background",children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(l,{value:"Critical",children:"Critical"}),e.jsx(l,{value:"High",children:"High"}),e.jsx(l,{value:"Medium",children:"Medium"}),e.jsx(l,{value:"Low",children:"Low"})]})]})]}),e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Time Horizon"}),e.jsxs(u,{value:c.horizon,onValueChange:s=>k({...c,horizon:s}),children:[e.jsx(p,{className:"bg-background",children:e.jsx(j,{placeholder:"Period"})}),e.jsxs(g,{children:[e.jsx(l,{value:"Q1",children:"Q1 (Immediate)"}),e.jsx(l,{value:"Q2",children:"Q2 (Short Term)"}),e.jsx(l,{value:"H2",children:"H2 (Medium Term)"}),e.jsx(l,{value:"Next Year",children:"Next Year (Long Term)"})]})]})]}),e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Owner"}),e.jsx(h,{placeholder:"e.g. CISO, IT Lead",value:c.owner,onChange:s=>k({...c,owner:s.target.value}),className:"bg-background"})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Est. Effort (Hours)"}),e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-muted-foreground"}),e.jsx(h,{type:"number",placeholder:"e.g. 40",value:c.estimatedHours||"",onChange:s=>k({...c,estimatedHours:Number(s.target.value)}),className:"bg-background pl-9"})]})]}),e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Budget Required ($)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2.5 text-xs text-muted-foreground",children:"$"}),e.jsx(h,{type:"number",placeholder:"0.00",value:c.budget||"",onChange:s=>k({...c,budget:Number(s.target.value)}),className:"bg-background pl-7"})]})]}),e.jsxs("div",{className:"col-span-4 space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Complexity"}),e.jsxs(u,{value:c.complexity,onValueChange:s=>k({...c,complexity:s}),children:[e.jsx(p,{className:"bg-background",children:e.jsx(j,{placeholder:"Select"})}),e.jsxs(g,{children:[e.jsx(l,{value:"High",children:"High (Hard)"}),e.jsx(l,{value:"Medium",children:"Medium"}),e.jsx(l,{value:"Low",children:"Low (Easy)"})]})]})]})]}),e.jsxs("div",{className:"space-y-3 pt-2 border-t border-dashed",children:[e.jsxs(t,{className:"text-xs flex items-center gap-2",children:[e.jsx(ee,{className:"w-3.5 h-3.5 text-warning"}),"Mitigated Risks / Threats"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{value:b,onChange:s=>T(s.target.value),placeholder:"Add risk (e.g. Ransomware, Insider Threat)",onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),de())},className:"bg-background h-8 text-xs"}),e.jsx(m,{onClick:de,size:"sm",variant:"outline",className:"h-8",children:e.jsx(z,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"flex flex-wrap gap-2 min-h-[24px]",children:(pe=c.linkedRisks)==null?void 0:pe.map(s=>e.jsxs(w,{variant:"outline",className:"bg-background hover:bg-destructive/10 cursor-pointer gap-1 pl-2 pr-1 h-6",onClick:()=>Ee(s),children:[s," ",e.jsx(O,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})]},s))})]}),e.jsxs(m,{onClick:Qe,disabled:!c.title,className:"w-full",variant:"secondary",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Add Objective"]})]}),e.jsxs("div",{className:"space-y-3",children:[v.length===0&&e.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm border-2 border-dashed rounded-lg",children:"No objectives defined yet. Add one above."}),v.map(s=>e.jsxs("div",{className:"flex flex-col gap-2 p-4 border rounded-lg bg-card hover:bg-muted/5 transition-colors group",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{variant:s.priority==="Critical"?"destructive":s.priority==="High"?"default":"secondary",className:"uppercase text-[10px]",children:s.priority}),e.jsx("span",{className:"font-semibold text-sm",children:s.title})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Be(s),children:e.jsx(Me,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Ke(s.id),children:e.jsx(O,{className:"h-4 w-4 text-muted-foreground hover:text-destructive"})})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground flex-wrap",children:[s.alignment&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{className:"w-3 h-3"}),e.jsxs("span",{children:["Aligns: ",s.alignment]})]}),s.horizon&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"w-3 h-3"}),e.jsx("span",{children:s.horizon})]}),s.owner&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(se,{className:"w-3 h-3"}),e.jsxs("span",{children:["Owner: ",s.owner]})]}),s.budget!==void 0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"w-3 h-3"}),e.jsxs("span",{children:["$",s.budget.toLocaleString()]})]}),s.estimatedHours!==void 0&&s.estimatedHours>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.estimatedHours,"h"]})]}),s.complexity&&e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded border bg-muted/30",children:s.complexity})})]}),s.linkedRisks&&s.linkedRisks.length>0&&e.jsx("div",{className:"flex gap-1 flex-wrap mt-1",children:s.linkedRisks.map(a=>e.jsxs(w,{variant:"outline",className:"text-[10px] h-5 border-warning/50 text-warning bg-warning/5 gap-1",children:[e.jsx(ee,{className:"w-2.5 h-2.5"}),a]},a))})]},s.id))]})]}),d===3&&e.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(t,{className:"text-xs uppercase font-bold text-muted-foreground tracking-wider",children:"Metrics & Governance"}),e.jsx(E,{className:"flex-1"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(Se,{className:"w-4 h-4 text-primary"}),"Success Metrics (KPIs)"]}),e.jsxs("div",{className:"p-4 rounded-lg border bg-muted/20 space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Metric Name"}),e.jsx(h,{placeholder:"e.g. Compliance Rate",value:R.name,onChange:s=>Q({...R,name:s.target.value}),className:"h-9"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Type"}),e.jsxs(u,{value:R.type,onValueChange:s=>Q({...R,type:s}),children:[e.jsx(p,{className:"h-9",children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(l,{value:"Percentage",children:"Percentage (%)"}),e.jsx(l,{value:"Currency",children:"Currency ($)"}),e.jsx(l,{value:"Count",children:"Count (#)"}),e.jsx(l,{value:"Boolean",children:"Yes/No"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Target"}),e.jsx(h,{type:"number",placeholder:"100",value:R.targetValue,onChange:s=>Q({...R,targetValue:Number(s.target.value)}),className:"h-9"})]})]}),e.jsxs(m,{onClick:Pe,disabled:!R.name,size:"sm",className:"w-full",variant:"secondary",children:[e.jsx(z,{className:"w-3 h-3 mr-2"})," Add Metric"]})]}),e.jsxs("div",{className:"space-y-2",children:[C.map(s=>e.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-md bg-card text-sm group hover:bg-muted/5 transition-colors",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.type," • Target: ",s.targetValue," • ",s.frequency]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>qe(s),children:e.jsx(Me,{className:"h-3 w-3 text-muted-foreground hover:text-primary"})}),e.jsx(m,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Ve(s.id),children:e.jsx(O,{className:"h-3 w-3 text-muted-foreground hover:text-destructive"})})]})]},s.id)),C.length===0&&e.jsx("p",{className:"text-xs text-muted-foreground italic",children:"No metrics added."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-primary"}),"Governance Structure"]}),e.jsxs("div",{className:"space-y-4 border rounded-lg p-4 bg-card",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Review Cadence"}),e.jsxs(u,{value:S.reviewCadence,onValueChange:s=>W({...S,reviewCadence:s}),children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(l,{value:"Weekly",children:"Weekly Standup"}),e.jsx(l,{value:"Monthly",children:"Monthly Steering"}),e.jsx(l,{value:"Quarterly",children:"Quarterly Business Review"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Oversight Committee / Owner"}),e.jsx(h,{placeholder:"e.g. GRC Steering Committee",value:S.oversightCommittee,onChange:s=>W({...S,oversightCommittee:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{className:"text-xs",children:"Reporting Format"}),e.jsxs(u,{value:S.reportingFormat,onValueChange:s=>W({...S,reportingFormat:s}),children:[e.jsx(p,{children:e.jsx(j,{})}),e.jsxs(g,{children:[e.jsx(l,{value:"Dashboard",children:"Live Dashboard"}),e.jsx(l,{value:"Slide Deck",children:"Slide Deck Presentation"}),e.jsx(l,{value:"Report",children:"PDF Report"})]})]})]})]})]})]})]}),d===4&&e.jsxs("div",{className:"space-y-6 animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(t,{className:"text-xs uppercase font-bold text-muted-foreground tracking-wider",children:"Review & Finalize"}),e.jsx(E,{className:"flex-1"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-8 space-y-6",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-card space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4 text-primary"}),"Strategic Context"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs block",children:"Industry"}),e.jsx("span",{className:"font-medium capitalize",children:o.industry||"Not set"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground text-xs block",children:"Maturity"}),e.jsx("span",{className:"font-medium",children:A.maturityLevel})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground text-xs block",children:"Goals"}),e.jsxs("div",{className:"flex gap-1 flex-wrap mt-1",children:[o.goals.map(s=>e.jsx(w,{variant:"secondary",className:"text-[10px]",children:s},s)),o.goals.length===0&&e.jsx("span",{className:"text-sm italic text-muted-foreground",children:"None"})]})]})]})]}),e.jsxs("div",{className:"p-4 border rounded-lg bg-card space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4 text-primary"}),"Objectives (",v.length,")"]}),e.jsx("div",{className:"space-y-2",children:v.map((s,a)=>e.jsxs("div",{className:"flex justify-between items-center text-sm p-2 bg-muted/20 rounded",children:[e.jsx("span",{className:"font-medium",children:s.title}),e.jsx(w,{variant:"outline",className:"text-[10px]",children:s.priority})]},a))})]})]}),e.jsxs("div",{className:"col-span-4 space-y-6",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-muted/20 space-y-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Metrics"}),e.jsx("p",{className:"text-2xl font-bold",children:C.length})]}),e.jsx(E,{}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Est. Investment"}),e.jsxs("div",{className:"flex justify-between items-center text-sm font-medium",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"w-3.5 h-3.5"})," ",v.reduce((s,a)=>s+(a.estimatedHours||0),0)," hrs"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Oe,{className:"w-3.5 h-3.5"})," $",v.reduce((s,a)=>s+(a.budget||0),0).toLocaleString()]})]})]}),e.jsx(E,{}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Risks Addressed"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(ee,{className:"w-4 h-4 text-warning"}),e.jsx("p",{className:"text-xl font-bold",children:new Set(v.flatMap(s=>s.linkedRisks||[])).size}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"unique threats"})]})]}),e.jsx(E,{}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Review Cadence"}),e.jsx("p",{className:"font-medium",children:S.reviewCadence})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground uppercase font-bold",children:"Reporting"}),e.jsx("p",{className:"font-medium",children:S.reportingFormat})]})]}),e.jsxs(m,{onClick:Xe,className:"w-full h-12 text-base shadow-lg shadow-primary/20",disabled:V.isLoading,children:[V.isLoading?r!=null&&r.id?"Saving...":"Creating...":r!=null&&r.id?"Save Changes":"Generate Roadmap",!V.isLoading&&e.jsx(ze,{className:"ml-2 w-4 h-4"})]})]})]})]})]}),e.jsxs(ns,{className:"flex justify-between p-6 bg-muted/10 border-t items-center",children:[e.jsx(m,{variant:"ghost",onClick:d===1?Ie:Je,disabled:V.isLoading,className:"text-muted-foreground hover:text-foreground",children:d===1?"Cancel Operation":"Back to Previous"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex gap-1",children:[1,2,3,4].map(s=>e.jsx("div",{className:U("w-2 h-2 rounded-full transition-colors",d>=s?"bg-primary":"bg-muted-foreground/20")},s))}),d<4?e.jsxs(m,{onClick:_e,disabled:!H,className:"gap-2 min-w-[120px]",children:["Next Step ",e.jsx(ze,{className:"h-4 w-4"})]}):null]})]})]})]}),e.jsx(Ne,{open:He,onOpenChange:B,children:e.jsxs(fe,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Edit Strategic Objective"}),e.jsx(ke,{children:"Update all details for this objective. Click save when you're done."})]}),n&&e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-title",children:"Objective Title *"}),e.jsx(h,{id:"edit-title",value:n.title,onChange:s=>f({...n,title:s.target.value}),placeholder:"What needs to be achieved?"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-priority",children:"Priority"}),e.jsxs(u,{value:n.priority,onValueChange:s=>f({...n,priority:s}),children:[e.jsx(p,{id:"edit-priority",children:e.jsx(j,{placeholder:"Select priority"})}),e.jsxs(g,{children:[e.jsx(l,{value:"Critical",children:"Critical"}),e.jsx(l,{value:"High",children:"High"}),e.jsx(l,{value:"Medium",children:"Medium"}),e.jsx(l,{value:"Low",children:"Low"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-horizon",children:"Time Horizon"}),e.jsxs(u,{value:n.horizon,onValueChange:s=>f({...n,horizon:s}),children:[e.jsx(p,{id:"edit-horizon",children:e.jsx(j,{placeholder:"Select timeline"})}),e.jsxs(g,{children:[e.jsx(l,{value:"Q1",children:"Q1 (Immediate)"}),e.jsx(l,{value:"Q2",children:"Q2 (Short Term)"}),e.jsx(l,{value:"H2",children:"H2 (Medium Term)"}),e.jsx(l,{value:"Next Year",children:"Next Year (Long Term)"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-alignment",children:"Alignment"}),e.jsxs(u,{value:n.alignment,onValueChange:s=>f({...n,alignment:s}),children:[e.jsx(p,{id:"edit-alignment",children:e.jsx(j,{placeholder:"Select alignment"})}),e.jsxs(g,{children:[e.jsx(l,{value:"none",children:"No specific alignment"}),o.goals.map((s,a)=>e.jsx(l,{value:s,children:s},a))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-owner",children:"Owner"}),e.jsx(h,{id:"edit-owner",value:n.owner,onChange:s=>f({...n,owner:s.target.value}),placeholder:"Who is responsible?"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-budget",children:"Budget ($)"}),e.jsx(h,{id:"edit-budget",type:"number",value:n.budget||0,onChange:s=>f({...n,budget:Number(s.target.value)}),placeholder:"Estimated budget"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-hours",children:"Estimated Hours"}),e.jsx(h,{id:"edit-hours",type:"number",value:n.estimatedHours||0,onChange:s=>f({...n,estimatedHours:Number(s.target.value)}),placeholder:"Hours required"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-complexity",children:"Complexity"}),e.jsxs(u,{value:n.complexity||"Medium",onValueChange:s=>f({...n,complexity:s}),children:[e.jsx(p,{id:"edit-complexity",children:e.jsx(j,{placeholder:"Select complexity"})}),e.jsxs(g,{children:[e.jsx(l,{value:"High",children:"High (Hard)"}),e.jsx(l,{value:"Medium",children:"Medium"}),e.jsx(l,{value:"Low",children:"Low (Easy)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Linked Risks"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(h,{value:b,onChange:s=>T(s.target.value),placeholder:"Add a risk reference",onKeyDown:s=>{var a;s.key==="Enter"&&b&&n&&(s.preventDefault(),(a=n.linkedRisks)!=null&&a.includes(b)||f({...n,linkedRisks:[...n.linkedRisks||[],b]}),T(""))}}),e.jsx(m,{onClick:()=>{var s;b&&n&&!((s=n.linkedRisks)!=null&&s.includes(b))&&(f({...n,linkedRisks:[...n.linkedRisks||[],b]}),T(""))},variant:"secondary",children:e.jsx(z,{className:"h-4 w-4"})})]}),n.linkedRisks&&n.linkedRisks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.linkedRisks.map((s,a)=>e.jsxs(w,{variant:"outline",className:"gap-1",children:[s,e.jsx(m,{variant:"ghost",size:"icon",className:"h-4 w-4 ml-1",onClick:()=>{const i=[...n.linkedRisks];i.splice(a,1),f({...n,linkedRisks:i})},children:e.jsx(O,{className:"h-3 w-3"})})]},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-description",children:"Description (Optional)"}),e.jsx(Ce,{id:"edit-description",value:n.description||"",onChange:s=>f({...n,description:s.target.value}),placeholder:"Additional details about this objective...",rows:3})]})]}),e.jsxs(we,{children:[e.jsx(m,{variant:"outline",onClick:oe,children:"Cancel"}),e.jsx(m,{onClick:Ge,disabled:!(n!=null&&n.title),children:"Save Changes"})]})]})}),e.jsx(Ne,{open:Le,onOpenChange:G,children:e.jsxs(fe,{className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[e.jsxs(ye,{children:[e.jsx(be,{children:"Edit Success Metric"}),e.jsx(ke,{children:"Update the details of this success metric (KPI)."})]}),N&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-metric-name",children:"Metric Name"}),e.jsx(h,{id:"edit-metric-name",value:N.name,onChange:s=>M({...N,name:s.target.value}),placeholder:"e.g. Compliance Rate, Risk Reduction"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-metric-type",children:"Type"}),e.jsxs(u,{value:N.type,onValueChange:s=>M({...N,type:s}),children:[e.jsx(p,{id:"edit-metric-type",children:e.jsx(j,{placeholder:"Select type"})}),e.jsxs(g,{children:[e.jsx(l,{value:"Percentage",children:"Percentage (%)"}),e.jsx(l,{value:"Currency",children:"Currency ($)"}),e.jsx(l,{value:"Count",children:"Count (#)"}),e.jsx(l,{value:"Boolean",children:"Yes/No"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-metric-target",children:"Target Value"}),e.jsx(h,{id:"edit-metric-target",type:"number",value:N.targetValue,onChange:s=>M({...N,targetValue:Number(s.target.value)}),placeholder:"Target value"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"edit-metric-frequency",children:"Reporting Frequency"}),e.jsxs(u,{value:N.frequency,onValueChange:s=>M({...N,frequency:s}),children:[e.jsx(p,{id:"edit-metric-frequency",children:e.jsx(j,{placeholder:"Select frequency"})}),e.jsxs(g,{children:[e.jsx(l,{value:"Monthly",children:"Monthly"}),e.jsx(l,{value:"Quarterly",children:"Quarterly"}),e.jsx(l,{value:"Annually",children:"Annually"})]})]})]})]}),e.jsxs(we,{children:[e.jsx(m,{variant:"outline",onClick:$e,children:"Cancel"}),e.jsx(m,{onClick:Ue,disabled:!(N!=null&&N.name),children:"Save Changes"})]})]})})]})}export{Ps as R};

import{M as R,r as f,j as e,C as W,d as ie,e as ce,k as $,c as b,aa as de,m as H,t as oe,x as xe,T as K,ar as me,D as he,o as ue,p as pe,q as fe,s as ge,L as U,I as je,E as ve,G as Ne,H as ye,J as be,K as X,w as we}from"./index-DOc7Nwb7.js";import{T as te,a as ae,b as T,c as q}from"./tabs-CBDTXbEn.js";import{c as S}from"./utils-BC5CVi_C.js";import{C as De}from"./calendar-BlLJlGbj.js";import{C as ke}from"./chevron-left-DZH-lUm7.js";import{F as Ce}from"./filter-Ceo--4mb.js";import{a as k,e as Me}from"./endOfWeek-tX_WdcBG.js";import{s as ee,f as D}from"./format-H2tx8_vS.js";import{e as Se}from"./eachDayOfInterval-N9Sq06pl.js";import{i as Te}from"./isSameDay-CGHMiO64.js";import{m as $e}from"./DashboardLayout-aHnUqq57.js";import{C as Y}from"./clock-osbacZli.js";import{E as ne}from"./ellipsis-BXWwt8ER.js";import{P as Ee}from"./plus-BaQ35Jcx.js";import{L as se}from"./list-BZOuFwEg.js";import{C as Q}from"./circle-check-C5kiwRoG.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=R("GanttChart",[["path",{d:"M8 6h10",key:"9lnwnk"}],["path",{d:"M6 12h9",key:"1g9pqf"}],["path",{d:"M11 18h7",key:"c8dzvl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=R("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=R("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=R("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Pe({tasks:i,startDate:t,endDate:o,onTaskClick:c,height:r=600}){const[d,g]=f.useState("month"),[l,x]=f.useState(new Date),[u,v]=f.useState(1),[y,w]=f.useState(!0),[C,z]=f.useState(null),M=f.useMemo(()=>{if(t&&o)return{start:t,end:o};const s=i.flatMap(n=>[n.startDate,n.endDate]),m=new Date(Math.min(...s.map(n=>n.getTime()))),p=new Date(Math.max(...s.map(n=>n.getTime()))),a=7;return{start:k(m,-a),end:k(p,a)}},[i,t,o]),I=f.useMemo(()=>{const{start:s,end:m}=M;switch(d){case"week":return Se({start:ee(s,{weekStartsOn:1}),end:Me(m,{weekStartsOn:1})});case"month":const p=[];let a=ee(s,{weekStartsOn:1});for(;a<=m;)p.push(a),a=k(a,7);return p;case"quarter":const n=[];let h=new Date(s.getFullYear(),s.getMonth(),1);for(;h<=m;)n.push(h),h=new Date(h.getFullYear(),h.getMonth()+1,1);return n}},[M,d]),E=f.useMemo(()=>{const{start:s}=M,m=(M.end.getTime()-s.getTime())/(1e3*60*60*24);return i.map(p=>{const a=(p.startDate.getTime()-s.getTime())/864e5,n=(p.endDate.getTime()-p.startDate.getTime())/(1e3*60*60*24);return{task:p,left:a/m*100,width:Math.max(n/m*100,1),isSelected:p.id===C}})},[i,M,C]),G=f.useMemo(()=>{if(!y)return[];const s=[];for(const m of i)for(const p of m.dependencies)if(i.find(n=>n.id===p)){const n=E.find(N=>N.task.id===m.id),h=E.find(N=>N.task.id===p);n&&h&&s.push({from:{x:h.left+h.width,y:i.findIndex(N=>N.id===p)},to:{x:n.left,y:i.findIndex(N=>N.id===m.id)}})}return s},[i,E,y]),V=s=>{z(s.id),c&&c(s)},Z=()=>{switch(d){case"week":x(k(l,-7));break;case"month":x(k(l,-30));break;case"quarter":x(k(l,-90));break}},O=()=>{switch(d){case"week":x(k(l,7));break;case"month":x(k(l,30));break;case"quarter":x(k(l,90));break}},j=()=>{switch(d){case"week":return`Week of ${D(l,"MMM d, yyyy")}`;case"month":return D(l,"MMMM yyyy");case"quarter":return`Q${Math.floor(l.getMonth()/3)+1} ${l.getFullYear()}`}},L=s=>{switch(s){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-blue-500";case"low":return"bg-gray-400";default:return"bg-gray-400"}},P=s=>{switch(s){case"completed":return"bg-green-500";case"in_progress":return"bg-blue-500";case"blocked":return"bg-red-500";case"not_started":return"bg-gray-300";default:return"bg-gray-300"}};return e.jsxs(W,{className:"w-full border shadow-sm",children:[e.jsxs(ie,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5 text-primary"}),e.jsx(ce,{className:"text-lg",children:"Project Timeline"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs($,{variant:"outline",className:"gap-1",children:[e.jsx(De,{className:"h-3 w-3"}),j()]}),e.jsx(te,{value:d,onValueChange:s=>g(s),children:e.jsxs(ae,{children:[e.jsx(T,{value:"week",children:"Week"}),e.jsx(T,{value:"month",children:"Month"}),e.jsx(T,{value:"quarter",children:"Quarter"})]})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{variant:"outline",size:"sm",onClick:Z,children:e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(b,{variant:"outline",size:"sm",onClick:()=>x(new Date),children:"Today"}),e.jsx(b,{variant:"outline",size:"sm",onClick:O,children:e.jsx(de,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:y?"default":"outline",size:"sm",onClick:()=>w(!y),children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),y?"Hide Dependencies":"Show Dependencies"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(b,{variant:"outline",size:"icon",onClick:()=>v(Math.max(.5,u-.1)),disabled:u<=.5,children:e.jsx(ze,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-muted-foreground min-w-[60px] text-center",children:[Math.round(u*100),"%"]}),e.jsx(b,{variant:"outline",size:"icon",onClick:()=>v(Math.min(2,u+.1)),disabled:u>=2,children:e.jsx(Oe,{className:"h-4 w-4"})})]})]})]})]}),e.jsxs(H,{className:"p-0 overflow-hidden",children:[e.jsxs("div",{className:"relative overflow-x-auto",style:{height:`${r}px`},children:[e.jsx("div",{className:"sticky top-0 z-20 bg-white border-b",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-64 flex-shrink-0 border-r p-3 bg-gray-50",children:e.jsx("div",{className:"font-medium text-sm",children:"Task"})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex",style:{transform:`scaleX(${u})`,transformOrigin:"left"},children:I.map((s,m)=>e.jsxs("div",{className:S("flex-1 min-w-[80px] border-r p-2 text-center",Te(s,new Date)&&"bg-blue-50"),children:[e.jsx("div",{className:"text-xs font-medium",children:d==="week"?D(s,"EEE"):d==="month"?`Week ${Math.floor(m/7)+1}`:D(s,"MMM")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:d==="week"?D(s,"d"):d==="month"?D(s,"d"):D(s,"yyyy")})]},m))})})]})}),e.jsxs("div",{className:"relative",children:[y&&G.map((s,m)=>e.jsxs("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none z-10",style:{transform:`scaleX(${u})`,transformOrigin:"left"},children:[e.jsx("line",{x1:`${s.from.x}%`,y1:`${s.from.y*60+30}px`,x2:`${s.to.x}%`,y2:`${s.to.y*60+30}px`,stroke:"#f59e0b",strokeWidth:"2",strokeDasharray:"5,5",markerEnd:"url(#arrowhead)"}),e.jsx("defs",{children:e.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:e.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#f59e0b"})})})]},m)),E.map(({task:s,left:m,width:p,isSelected:a},n)=>e.jsxs("div",{className:S("flex border-b hover:bg-gray-50 transition-colors",a&&"bg-blue-50"),style:{height:"60px"},onClick:()=>V(s),children:[e.jsxs("div",{className:"w-64 flex-shrink-0 border-r p-3 flex items-center gap-3",children:[e.jsx("div",{className:S("w-3 h-3 rounded-full",L(s.priority))}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:s.title}),s.assignee&&e.jsx("div",{className:"w-5 h-5 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium text-primary",children:s.assignee.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs($,{variant:"outline",className:"text-xs",children:["Phase ",s.phase||1]}),e.jsx("div",{className:S("w-2 h-2 rounded-full",P(s.status))}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.status.replace("_"," ")})]})]})]}),e.jsx("div",{className:"flex-1 min-w-0 relative",children:e.jsxs("div",{className:"absolute top-1/2 -translate-y-1/2 h-8 rounded-md border shadow cursor-sm-pointer hover:shadow-md transition-shadow",style:{left:`${m}%`,width:`${p}%`,transform:`scaleX(${1/u})`,transformOrigin:"left",minWidth:"20px"},children:[e.jsxs("div",{className:S("h-full rounded-md flex items-center px-2",s.status==="completed"?"bg-green-500":s.status==="in_progress"?"bg-blue-500":s.status==="blocked"?"bg-red-500":"bg-gray-300"),children:[s.status==="in_progress"&&s.progress>0&&e.jsx("div",{className:"absolute left-0 top-0 h-full bg-green-400 rounded-l-md",style:{width:`${s.progress}%`}}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between w-full",children:[e.jsx("span",{className:"text-xs font-medium text-white truncate",children:s.title}),e.jsxs("span",{className:"text-xs text-white/80",children:[s.progress,"%"]})]})]}),e.jsx("div",{className:"absolute -top-5 left-0 text-xs text-muted-foreground whitespace-nowrap",children:D(s.startDate,"MMM d")}),e.jsx("div",{className:"absolute -top-5 right-0 text-xs text-muted-foreground whitespace-nowrap",children:D(s.endDate,"MMM d")})]})})]},s.id))]})]}),e.jsx("div",{className:"border-t p-3 bg-gray-50",children:e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx("span",{className:"font-medium",children:"Legend:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{children:"Critical"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),e.jsx("span",{children:"High"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{children:"Medium"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),e.jsx("span",{children:"Low"})]}),e.jsxs("div",{className:"ml-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),e.jsx("span",{children:"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-blue-500"}),e.jsx("span",{children:"In Progress"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),e.jsx("span",{children:"Blocked"})]})]})})]})]})}function le(i,t){const o=t.find(c=>c.id===i);if(!o||!o.dependencies||o.dependencies.length===0)return!1;for(const c of o.dependencies){const r=t.find(d=>d.id===c);if(r&&r.status!=="done")return!0}return!1}function Ae(i,t,o){const c=new Map;i.forEach(x=>{c.set(x.id,[...x.dependencies||[]])});const r=c.get(t)||[];r.includes(o)||c.set(t,[...r,o]);const d=new Set,g=new Set;function l(x){if(g.has(x))return!0;if(d.has(x))return!1;d.add(x),g.add(x);const u=c.get(x)||[];for(const v of u)if(l(v))return!0;return g.delete(x),!1}for(const x of c.keys())if(l(x))return!0;return!1}function Fe(i){const t=[],o=new Map;i.forEach(l=>{o.set(l.id,[...l.dependencies||[]])});const c=new Set,r=[],d=new Map(i.map(l=>[l.id,l]));function g(l){if(c.has(l)){const u=r.indexOf(l);if(u!==-1){const v=r.slice(u);v.push(l);const y=v.map(w=>{const C=d.get(w);return C?`"${C.title}" (ID: ${w})`:`Task ${w}`});return t.push(`Cycle detected: ${y.join(" → ")}`),!0}return!1}c.add(l),r.push(l);const x=o.get(l)||[];for(const u of x)if(g(u))return!0;return r.pop(),!1}for(const l of o.keys())c.has(l)||g(l);return t}function _e(i,t,o){if(t===o)return"A task cannot depend on itself";const c=i.find(r=>r.id===t);return c&&c.dependencies&&c.dependencies.includes(o)?"This dependency already exists":Ae(i,t,o)?"Adding this dependency would create a circular dependency":null}function ns({planId:i}){const{data:t,isLoading:o}=oe.roadmap.get.useQuery({planId:i}),[c,r]=f.useState(!1),[d,g]=f.useState(null),[l,x]=f.useState([]),[u,v]=f.useState(""),[y,w]=f.useState(null),[C,z]=f.useState([]),M=a=>{g(a),x(a.dependencies||[]),v(a.assignee||""),w(null),z([]),r(!0);const n=Fe(j.map(h=>({id:h.id,dependencies:h.dependencies||[],title:h.title})));z(n)},I=()=>{console.log("Saving task:",{...d,dependencies:l,assignee:u}),r(!1),g(null),x([]),v("")},E=()=>{r(!1),g(null),x([]),v("")},G=a=>{if(!l.includes(a)){const n=_e(j.map(h=>({id:h.id,dependencies:h.id===(d==null?void 0:d.id)?[...l,a]:h.dependencies||[],title:h.title})),(d==null?void 0:d.id)||0,a);if(n){w(n);return}x([...l,a]),w(null)}},V=a=>{x(l.filter(n=>n!==a)),w(null)},Z=a=>a.map((n,h)=>{const N=new Date;N.setDate(N.getDate()+(n.phase||1)*7+h*2);const J=new Date(N);J.setDate(J.getDate()+(n.estimatedDuration||5));let A=0,F="not_started";n.status==="done"?(A=100,F="completed"):n.status==="in_progress"?(A=50,F="in_progress"):n.status==="pending"&&(A=0,F="not_started");let _="medium";return n.priority==="critical"?_="critical":n.priority==="high"?_="high":n.priority==="low"&&(_="low"),{id:n.id,title:n.title,description:n.description,startDate:N,endDate:J,progress:A,assignee:n.assignee,priority:_,dependencies:n.dependencies||[],phase:n.phase||1,status:F}});if(o)return e.jsx("div",{className:"p-8",children:e.jsx(xe,{className:"animate-spin"})});if(!t)return e.jsx("div",{className:"p-8",children:"Plan not found"});const{plan:O,items:j}=t,L=j.length,P=j.filter(a=>a.status==="done").length,s=j.filter(a=>a.status==="in_progress").length,m=j.filter(a=>a.status==="pending").length,p=L>0?P/L*100:0;return e.jsxs("div",{className:"h-[calc(100vh-64px)] flex flex-col bg-gray-50/30",children:[e.jsxs("header",{className:"bg-white border-b px-8 py-5 flex items-center justify-between sticky top-0 z-10",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight text-gray-900",children:O.title}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($e,{className:"w-3 h-3"})," Target: ",O.targetDate?D(new Date(O.targetDate),"MMM d, yyyy"):"Not set"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Y,{className:"w-3 h-3"})," ",L," Tasks"]}),e.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded-full text-xs font-medium",children:[Math.round(p),"% Complete"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{variant:"outline",size:"sm",children:e.jsx(ne,{className:"h-4 w-4"})}),e.jsxs(b,{size:"sm",children:[e.jsx(Ee,{className:"h-4 w-4 mr-1"})," Add Task"]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 px-8 py-6",children:[e.jsx(B,{title:"Total Tasks",value:L,icon:se}),e.jsx(B,{title:"In Progress",value:s,icon:Y,color:"text-amber-500"}),e.jsx(B,{title:"Completed",value:P,icon:Q,color:"text-green-500"}),e.jsx(B,{title:"Remaining",value:m,icon:K,color:"text-red-500"})]}),e.jsx("div",{className:"flex-1 px-8 pb-8 overflow-hidden",children:e.jsxs(te,{defaultValue:"board",className:"h-full flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs(ae,{children:[e.jsxs(T,{value:"board",className:"gap-2",children:[e.jsx(Le,{className:"w-4 h-4"})," Board"]}),e.jsxs(T,{value:"gantt",className:"gap-2",children:[e.jsx(re,{className:"w-4 h-4"})," Gantt"]}),e.jsxs(T,{value:"timeline",className:"gap-2",children:[e.jsx(me,{className:"w-4 h-4"})," Timeline"]}),e.jsxs(T,{value:"list",className:"gap-2",children:[e.jsx(se,{className:"w-4 h-4"})," List"]})]})}),e.jsxs("div",{className:"flex-1 overflow-hidden rounded-lg bg-white border shadow-sm",children:[e.jsx(q,{value:"board",className:"h-full m-0 p-0",children:e.jsx(qe,{items:j,onEditTask:M})}),e.jsx(q,{value:"gantt",className:"h-full m-0 p-0 overflow-auto",children:e.jsx("div",{className:"p-4",children:e.jsx(Pe,{tasks:Z(j),onTaskClick:M,height:500})})}),e.jsx(q,{value:"timeline",className:"h-full m-0 p-0 overflow-auto",children:e.jsx(Be,{items:j})}),e.jsx(q,{value:"list",className:"h-full m-0 p-0 overflow-auto",children:e.jsx(Re,{items:j})})]})]})}),e.jsx(he,{open:c,onOpenChange:r,children:e.jsxs(ue,{className:"sm:max-w-[600px]",children:[e.jsxs(pe,{children:[e.jsx(fe,{children:"Edit Task"}),e.jsx(ge,{children:"Update task details, dependencies, and assignment."})]}),d&&e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"task-title",children:"Task Title"}),e.jsx(je,{id:"task-title",value:d.title,onChange:a=>g({...d,title:a.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{htmlFor:"task-assignee",children:"Assignee"}),e.jsxs(ve,{value:u,onValueChange:v,children:[e.jsx(Ne,{id:"task-assignee",children:e.jsx(ye,{placeholder:"Select assignee"})}),e.jsxs(be,{children:[e.jsx(X,{value:"john.doe",children:"John Doe"}),e.jsx(X,{value:"jane.smith",children:"Jane Smith"}),e.jsx(X,{value:"mike.johnson",children:"Mike Johnson"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(U,{children:"Dependencies"}),e.jsx("div",{className:"border rounded-md p-3 max-h-40 overflow-y-auto",children:j.filter(a=>a.id!==d.id).map(a=>e.jsxs("div",{className:"flex items-center gap-2 p-1",children:[e.jsx("input",{type:"checkbox",id:`dep-${a.id}`,checked:l.includes(a.id),onChange:n=>{n.target.checked?G(a.id):V(a.id)},className:"h-4 w-4"}),e.jsx("label",{htmlFor:`dep-${a.id}`,className:"text-sm",children:a.title})]},a.id))}),y&&e.jsx("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:e.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:y})]})}),C.length>0&&e.jsxs("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-md",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-700 mb-1",children:[e.jsx(K,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Dependency Cycles Detected"})]}),e.jsx("ul",{className:"text-xs text-amber-600 space-y-1",children:C.map((a,n)=>e.jsxs("li",{children:["• ",a]},n))})]})]})]}),e.jsxs(we,{children:[e.jsx(b,{variant:"outline",onClick:E,children:"Cancel"}),e.jsx(b,{onClick:I,children:"Save Changes"})]})]})})]})}function B({title:i,value:t,icon:o,color:c="text-primary"}){return e.jsx(W,{className:"shadow-sm border-none bg-white",children:e.jsxs(H,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:i}),e.jsx("p",{className:"text-2xl font-bold",children:t})]}),e.jsx("div",{className:S("p-2 rounded-full bg-gray-50",c),children:e.jsx(o,{className:"h-5 w-5"})})]})})}function qe({items:i,onEditTask:t}){const o=[1,2,3];return e.jsx("div",{className:"h-full overflow-x-auto p-4",children:e.jsx("div",{className:"flex h-full gap-4",children:o.map(c=>e.jsxs("div",{className:"w-80 flex-shrink-0 flex flex-col h-full rounded-lg bg-gray-50/50 border",children:[e.jsxs("div",{className:"p-3 border-b bg-white rounded-t-lg flex justify-between items-center sticky top-0",children:[e.jsxs("h3",{className:"font-semibold text-sm",children:["Phase ",c]}),e.jsx($,{variant:"secondary",children:i.filter(r=>(r.phase||1)===c).length})]}),e.jsx("div",{className:"p-3 space-y-3 overflow-y-auto flex-1",children:i.filter(r=>(r.phase||1)===c).map(r=>e.jsx(W,{className:"shadow-sm hover:shadow-md transition-shadow cursor-grab active:cursor-grabbing group",children:e.jsxs(H,{className:"p-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("span",{className:"text-xs font-semibold text-primary line-clamp-1 mb-1",children:r.controlId}),e.jsxs("div",{className:"flex items-center gap-1",children:[r.status==="done"&&e.jsx(Q,{className:"w-3 h-3 text-green-500"}),e.jsx(b,{variant:"ghost",size:"icon",className:"h-5 w-5 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>t(r),children:e.jsx(ne,{className:"h-3 w-3"})})]})]}),e.jsx("p",{className:"font-medium text-sm line-clamp-2 mb-2",children:r.title}),r.dependencies&&r.dependencies.length>0&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Depends on ",r.dependencies.length," task",r.dependencies.length!==1?"s":""]})]}),le(r.id,i)&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e.jsx("span",{className:"text-xs text-red-600 font-medium",children:"Blocked by dependencies"})]}),r.assignee&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium text-primary",children:r.assignee.charAt(0).toUpperCase()}),e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:r.assignee})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-3 h-3"}),r.estimatedDuration,"d"]}),r.priority&&e.jsx($,{variant:r.priority==="critical"?"destructive":r.priority==="high"?"default":"secondary",className:"text-[10px] px-1.5 py-0",children:r.priority})]})]})},r.id))})]},c))})})}function Be({items:i}){return e.jsx("div",{className:"p-8 max-w-4xl mx-auto space-y-8",children:i.map((t,o)=>e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:S("w-3 h-3 rounded-full mt-1.5",t.status==="done"?"bg-green-500":"bg-primary")}),o<i.length-1&&e.jsx("div",{className:"w-0.5 flex-1 bg-gray-200 my-1"})]}),e.jsx("div",{className:"flex-1 pb-8",children:e.jsx(W,{children:e.jsx(H,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:t.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),e.jsxs($,{variant:"outline",children:["Phase ",t.phase]})]})})})})]},t.id))})}function Re({items:i}){return e.jsx("div",{className:"flex flex-col",children:i.map(t=>e.jsxs("div",{className:"flex items-center gap-4 p-4 border-b hover:bg-gray-50 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0",children:t.status==="done"?e.jsx(Q,{className:"w-5 h-5 text-green-500"}):e.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-medium truncate",children:t.title}),e.jsxs($,{variant:"secondary",className:"text-[10px]",children:["Phase ",t.phase]}),t.priority&&e.jsx($,{variant:t.priority==="critical"?"destructive":t.priority==="high"?"default":"secondary",className:"text-[10px] px-1.5 py-0",children:t.priority})]}),e.jsx("p",{className:"text-sm text-muted-foreground truncate mb-1",children:t.controlId}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[t.dependencies&&t.dependencies.length>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),e.jsxs("span",{children:[t.dependencies.length," dependency",t.dependencies.length!==1?"s":""]})]}),t.assignee&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-primary/10 flex items-center justify-center text-[10px] font-medium text-primary",children:t.assignee.charAt(0).toUpperCase()}),e.jsx("span",{className:"truncate max-w-[100px]",children:t.assignee})]}),le(t.id,i)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),e.jsx("span",{className:"text-xs text-red-600",children:"Blocked"})]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground w-24 text-right",children:[t.estimatedDuration," days"]})]},t.id))})}export{ns as E,Le as K};

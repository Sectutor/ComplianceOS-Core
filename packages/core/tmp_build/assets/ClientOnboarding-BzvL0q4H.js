import{u as D,b as L,t as C,r as n,j as e,h as E,C as h,m as p,L as o,I as O,E as A,G as W,H as R,J as H,K as m,c as r,S as z,F as V,v,x as q,i as c}from"./index-DOc7Nwb7.js";import{W as J}from"./WizardLayout--gDD5DNT.js";import{D as K}from"./DashboardLayout-aHnUqq57.js";import{T as M}from"./textarea-BtxBxzdY.js";import{c as y}from"./utils-BC5CVi_C.js";import{S as U}from"./sparkles-CoQ80pK2.js";import{G as _}from"./globe-BMGZmoaJ.js";import{C as u}from"./circle-check-C5kiwRoG.js";import{R as $}from"./rocket-C2MuHhsn.js";import"./arrow-left-CpuUojG-.js";import"./shield-check-ETs8j4-d.js";import"./proxy-DIbepYjM.js";import"./save-CvVmWchr.js";import"./index-B9D6dsvY.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./target-cfAj3L6j.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";const w=[{id:1,title:"Client Details",description:"Basic Info"},{id:2,title:"Frameworks",description:"Standards"},{id:3,title:"Controls",description:"Selection"},{id:4,title:"Policies",description:"Generation"},{id:5,title:"Complete",description:"Summary"}];function Ae(){const{loading:Q}=D(),[,j]=L(),k=C.useUtils(),[a,l]=n.useState(1),[g,f]=n.useState(!1),[S,I]=n.useState(null),[i,x]=n.useState({name:"",industry:"",contactName:"",contactEmail:"",description:"",systems:""}),[t,b]=n.useState({iso27001:!0,soc2:!1}),[P,T]=n.useState(!0),[N,F]=n.useState(!0),G=C.clients.onboard.useMutation(),d=async()=>{if(a===1){if(!i.name.trim()){c.error("Client name is required");return}if(!i.industry){c.error("Please select an industry");return}}if(a===2&&!t.iso27001&&!t.soc2){c.error("Please select at least one framework");return}if(a===4){f(!0);try{const s=[];t.iso27001&&s.push("ISO 27001"),t.soc2&&s.push("SOC 2");const B=await G.mutateAsync({name:i.name,industry:i.industry,frameworks:s,companyName:i.name,generatePolicies:N});I(B.id),c.success("Client workspace created successfully!"),k.clients.list.invalidate(),l(5)}catch{c.error("Failed to create client workspace"),f(!1)}}else l(s=>s+1)};return e.jsx(K,{children:e.jsx(J,{title:"New Client Onboarding",currentStep:a,totalSteps:w.length,steps:w,clientId:0,embedded:!0,children:e.jsxs("div",{className:"max-w-3xl mx-auto py-8",children:[a===1&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-indigo-100 text-indigo-600 mb-4",children:e.jsx(E,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Client Details"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Basic information to set up the workspace"})]}),e.jsx(h,{className:"border-indigo-100 shadow-sm",children:e.jsxs(p,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Company Name"}),e.jsx(O,{placeholder:"e.g. Acme Corp",value:i.name,onChange:s=>x({...i,name:s.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Industry"}),e.jsxs(A,{value:i.industry,onValueChange:s=>x({...i,industry:s}),children:[e.jsx(W,{children:e.jsx(R,{placeholder:"Select industry"})}),e.jsxs(H,{children:[e.jsx(m,{value:"FinTech",children:"FinTech"}),e.jsx(m,{value:"HealthTech",children:"HealthTech"}),e.jsx(m,{value:"SaaS",children:"SaaS"}),e.jsx(m,{value:"E-commerce",children:"E-commerce"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Description"}),e.jsx(M,{placeholder:"Brief description of the business...",value:i.description,onChange:s=>x({...i,description:s.target.value})})]})]})}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(r,{onClick:d,className:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg shadow-indigo-100",children:["Continue",e.jsx(U,{className:"w-4 h-4 ml-2"})]})})]}),a===2&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-xl bg-purple-100 text-purple-600 mb-4",children:e.jsx(z,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Select Frameworks"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Which standards does this client need to meet?"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:y("cursor-pointer transition-all duration-200 border-2 rounded-xl p-6 hover:border-indigo-300 hover:bg-slate-50",t.iso27001?"border-indigo-600 bg-indigo-50/50 ring-2 ring-indigo-100":"border-slate-200 bg-white"),onClick:()=>b({...t,iso27001:!t.iso27001}),children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg border border-slate-100 shadow-sm",children:e.jsx(_,{className:"w-6 h-6 text-blue-600"})}),t.iso27001&&e.jsx(u,{className:"w-6 h-6 text-indigo-600"})]}),e.jsx("h3",{className:"font-bold text-slate-900",children:"ISO 27001"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"International standard for information security management systems."})]}),e.jsxs("div",{className:y("cursor-pointer transition-all duration-200 border-2 rounded-xl p-6 hover:border-indigo-300 hover:bg-slate-50",t.soc2?"border-indigo-600 bg-indigo-50/50 ring-2 ring-indigo-100":"border-slate-200 bg-white"),onClick:()=>b({...t,soc2:!t.soc2}),children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"bg-white p-2 rounded-lg border border-slate-100 shadow-sm",children:e.jsx(V,{className:"w-6 h-6 text-emerald-600"})}),t.soc2&&e.jsx(u,{className:"w-6 h-6 text-indigo-600"})]}),e.jsx("h3",{className:"font-bold text-slate-900",children:"SOC 2 Type II"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Trust Services Criteria for security, availability, and confidentiality."})]})]}),e.jsxs("div",{className:"flex justify-between pt-8",children:[e.jsx(r,{variant:"outline",onClick:()=>l(1),children:"Back"}),e.jsx(r,{onClick:d,className:"bg-indigo-600 hover:bg-indigo-700",children:"Continue"})]})]}),a===3&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Control Implementation"}),e.jsx("p",{className:"text-slate-500",children:"Configure initial control set"})]}),e.jsx(h,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"assignControls",checked:P,onCheckedChange:s=>T(s)}),e.jsx(o,{htmlFor:"assignControls",children:"Auto-assign baseline controls based on frameworks"})]})})}),e.jsxs("div",{className:"flex justify-between pt-8",children:[e.jsx(r,{variant:"outline",onClick:()=>l(2),children:"Back"}),e.jsx(r,{onClick:d,children:"Continue"})]})]}),a===4&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Policy Generation"}),e.jsx("p",{className:"text-slate-500",children:"Generate initial policy documents"})]}),e.jsx(h,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{id:"generatePolicies",checked:N,onCheckedChange:s=>F(s)}),e.jsx(o,{htmlFor:"generatePolicies",children:"Generate AI-drafted policies for selected frameworks"})]})})}),e.jsxs("div",{className:"flex justify-between pt-8",children:[e.jsx(r,{variant:"outline",onClick:()=>l(3),children:"Back"}),e.jsxs(r,{onClick:d,disabled:g,children:[g?e.jsx(q,{className:"animate-spin w-4 h-4 mr-2"}):e.jsx($,{className:"w-4 h-4 mr-2"}),"Launch Workspace"]})]})]}),a===5&&e.jsxs("div",{className:"text-center space-y-6 animate-in zoom-in duration-500",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 text-green-600 mb-4",children:e.jsx(u,{className:"w-10 h-10"})}),e.jsx("h2",{className:"text-3xl font-bold text-slate-900",children:"Setup Complete!"}),e.jsx("p",{className:"text-slate-500",children:"Client workspace has been provisioned successfully."}),e.jsxs("div",{className:"flex justify-center gap-4 pt-8",children:[e.jsx(r,{variant:"outline",onClick:()=>j("/dashboard"),children:"Go to Dashboard"}),e.jsx(r,{onClick:()=>j(`/clients/${S}`),children:"Enter Workspace"})]})]})]})})})}export{Ae as default};

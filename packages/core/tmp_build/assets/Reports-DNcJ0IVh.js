import{R as y,t as k,i as n,j as e,F as C,C as P,d as B,e as G,f as xe,c as d,m as T,k as U,aa as pe,D as V,o as z,p as H,q as W,s as K,L as I,I as ge,T as M,S as A,l as he,w as q,z as ue,ab as be,ac as fe,r as je,ao as Q,ar as ve}from"./index-DOc7Nwb7.js";import{F as Ne,D as Y}from"./DashboardLayout-aHnUqq57.js";import{T as we,a as ye,b as Z,c as J}from"./tabs-CBDTXbEn.js";import"./separator-BWuYil37.js";import"./textarea-BtxBxzdY.js";import"./scroll-area-DPaNxEJD.js";import"./alert-dialog-V7xGXdVc.js";import{P as L}from"./panels-top-left-DItCQeAG.js";import{P as X}from"./plus-BaQ35Jcx.js";import{C as ee}from"./calendar-BlLJlGbj.js";import{S as ke}from"./search-CwuIBBPE.js";import{F as Ce}from"./filter-Ceo--4mb.js";import{D as O}from"./download-ByfWg1Mi.js";import{T as se}from"./trash-2-CFEfisbM.js";import{S as $}from"./sparkles-CoQ80pK2.js";import{A as F}from"./activity-B1F2IRm3.js";import{S as te}from"./shield-check-ETs8j4-d.js";import{B as Ae}from"./book-open-BffBrdze.js";import{Z as ae}from"./zap-B01fFOkT.js";import{A as Re}from"./arrow-up-right-BLuFLpps.js";import{T as ie}from"./target-cfAj3L6j.js";import{R as Se,T as De}from"./generateCategoricalChart-KNLgM3hn.js";import{R as Pe,P as Te,a as Fe}from"./RadarChart-Jh4tpWfl.js";import{P as Le,a as Ee}from"./PolarAngleAxis-BO8F-h7c.js";import{B as Ie}from"./brain-C-Zi22rJ.js";import{C as Be}from"./circle-check-C5kiwRoG.js";import{T as Ge}from"./trending-up-eUiO956o.js";import{P as re}from"./PremiumSlot-CUXhxIKF.js";import"./index--2vFva6Y.js";import"./clipboard-check-CQkJX5J0.js";import"./send-FW7-3cjH.js";import"./settings-CIu9FFiX.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./database-Bjtecw5f.js";import"./shield-alert-iAruRy4W.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";import"./isEqual-D_xcZLCn.js";const D=[{id:"executive_summary",label:"Executive Summary",desc:"AI-driven high-level business posture overview",icon:$,color:"text-purple-600",bg:"bg-purple-50"},{id:"gap_analysis",label:"Gap Analysis & Maturity",desc:"Detailed breakdown of compliance readiness score",icon:F,color:"text-indigo-600",bg:"bg-indigo-50"},{id:"risks",label:"Risk Portfolio",desc:"Strategic risks and mitigation status",icon:M,color:"text-amber-600",bg:"bg-amber-50"},{id:"controls",label:"Control Verification",desc:"Evidence-backed status for all active controls",icon:te,color:"text-emerald-600",bg:"bg-emerald-50"},{id:"bcp",label:"Business Continuity (BCP)",desc:"Resilience projects and recovery strategies",icon:A,color:"text-blue-600",bg:"bg-blue-50"},{id:"bia",label:"Business Impact (BIA)",desc:"Analysis of critical processes and RTOs",icon:C,color:"text-cyan-600",bg:"bg-cyan-50"},{id:"assets",label:"Asset Inventory",desc:"Hardware, software, and information assets",icon:L,color:"text-slate-600",bg:"bg-slate-50"},{id:"vendors",label:"Vendor Risk",desc:"Third-party assessments and supply chain security",icon:te,color:"text-orange-600",bg:"bg-orange-50"},{id:"incidents",label:"Incident History",desc:"Log of security events and response efficacy",icon:F,color:"text-red-600",bg:"bg-red-50"},{id:"vulnerabilities",label:"Vulnerability Scan",desc:"Technical debt and patch management status",icon:M,color:"text-rose-600",bg:"bg-rose-50"},{id:"audit",label:"Audit Findings",desc:"Internal and external audit observation results",icon:Ae,color:"text-zinc-600",bg:"bg-zinc-50"},{id:"strategic_vision",label:"Strategic Vision",desc:"Future roadmap and compliance trajectory",icon:$,color:"text-amber-600",bg:"bg-amber-50"},{id:"implementation_plan",label:"Implementation Plan",desc:"Step-by-step guidance for control rollout",icon:L,color:"text-blue-600",bg:"bg-blue-50"},{id:"kpis_metrics",label:"KPIs & Metrics",desc:"Key performance indicators for governance",icon:F,color:"text-emerald-600",bg:"bg-emerald-50"},{id:"governance",label:"Governance",desc:"Management oversight and policy framework",icon:A,color:"text-slate-600",bg:"bg-slate-50"}],Me=({clientId:r})=>{const[p,l]=y.useState(!1),[x,c]=y.useState(`Compliance intelligence Report - ${new Date().toLocaleDateString()}`),[t,m]=y.useState(["executive_summary"]),[g,o]=y.useState("pdf"),[h,b]=y.useState(null),{data:j,isLoading:a,refetch:u}=k.reports.getReportHistory.useQuery({clientId:r,limit:20});k.reports.generateReport.useMutation({onSuccess:s=>{n.success("Report generated successfully!");const i=new Blob([Uint8Array.from(atob(s.pdfBase64),E=>E.charCodeAt(0))],{type:"application/pdf"}),f=window.URL.createObjectURL(i),N=document.createElement("a");N.href=f,N.download=s.filename,N.click(),u()},onError:s=>{n.error("Failed to generate report: "+s.message)}});const R=k.reports.deleteReport.useMutation({onSuccess:()=>{n.success("Report deleted successfully"),u()},onError:s=>{n.error("Failed to delete report: "+s.message)}}),le=s=>{b(s)},oe=()=>{h&&(R.mutate({reportId:h,clientId:r}),b(null))},v=k.reports.generateProfessionalReport.useMutation({onSuccess:s=>{n.success("Professional report generated!");try{const i=atob(s.pdfBase64),f=new Array(i.length);for(let S=0;S<i.length;S++)f[S]=i.charCodeAt(S);const N=new Uint8Array(f),E=new Blob([N],{type:s.contentType||"application/pdf"}),_=window.URL.createObjectURL(E),w=document.createElement("a");w.href=_,w.download=s.filename,document.body.appendChild(w),w.click(),setTimeout(()=>{document.body.removeChild(w),window.URL.revokeObjectURL(_)},100)}catch(i){console.error("Blob creation failed:",i),n.error("Failed to process download stream.")}l(!1),u()},onError:s=>{n.error("Generation failed: "+s.message)}}),ne=()=>{if(t.length===0){n.error("Please select at least one section");return}n.promise(v.mutateAsync({clientId:r,title:x,format:g,includedSections:t,dataSources:{gapAnalysis:t.includes("gap_analysis"),riskAssessment:t.includes("risks"),controls:t.includes("controls"),policies:!0}}),{loading:"Assembling professional intelligence report...",success:"Report ready for download!",error:"Failed to assemble report"})},ce=s=>{m(i=>i.includes(s)?i.filter(f=>f!==s):[...i,s])},de=()=>{n.promise(v.mutateAsync({clientId:r,title:`Technical Gap Analysis - ${new Date().toLocaleDateString()}`,format:"pdf",includedSections:["gap_analysis","controls","vulnerabilities","assets"],dataSources:{gapAnalysis:!0,riskAssessment:!1,controls:!0,policies:!1}}),{loading:"Generating technical gap analysis...",success:"Gap Analysis ready!",error:"Failed to generate Gap Analysis"})},me=()=>{n.promise(v.mutateAsync({clientId:r,title:`Board Executive Summary - ${new Date().toLocaleDateString()}`,format:"pdf",includedSections:["executive_summary","risks","kpis_metrics","strategic_vision"],dataSources:{gapAnalysis:!1,riskAssessment:!0,controls:!1,policies:!1}}),{loading:"Generating executive summary...",success:"Executive Summary ready!",error:"Failed to generate Executive Summary"})};return e.jsxs("div",{className:"space-y-8 pb-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{title:"Custom Professional Report",desc:"Build a bespoke intelligence report",icon:L,action:()=>l(!0),primary:!0},{title:"Gap Analysis PDF",desc:"Detailed technical posture survey",icon:C,action:de},{title:"Board Executive Summary",desc:"Clean, chart-heavy PDF brief",icon:Ne,action:me}].map((s,i)=>e.jsxs("div",{onClick:s.action,className:`flex flex-col items-start p-5 bg-white border ${s.primary?"border-indigo-200 bg-indigo-50/30":"border-slate-200"} rounded-xl hover:border-indigo-500 hover:shadow-md transition-all group text-left cursor-pointer`,children:[e.jsx("div",{className:`p-2 ${s.primary?"bg-indigo-600 text-white":"bg-slate-50 text-slate-600"} rounded-lg group-hover:scale-110 transition-transform mb-4`,children:e.jsx(s.icon,{className:"w-5 h-5"})}),e.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:s.title}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s.desc}),e.jsxs("div",{className:"mt-4 flex items-center gap-1 text-[10px] font-bold text-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity uppercase tracking-wider",children:[s.primary?"Configure Workshop":"Generate Now"," ",e.jsx(X,{className:"w-3 h-3"})]})]},i))}),e.jsxs(P,{className:"border-none shadow-md overflow-hidden bg-white",children:[e.jsxs(B,{className:"border-b border-slate-50 flex flex-row items-center justify-between space-y-0",children:[e.jsxs("div",{children:[e.jsxs(G,{className:"text-lg flex items-center gap-2",children:[e.jsx(ee,{className:"w-5 h-5 text-slate-400"}),"Report History"]}),e.jsx(xe,{children:"Records of all previously generated compliance intelligence"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative hidden sm:block",children:[e.jsx(ke,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search history...",className:"pl-9 pr-4 py-2 border rounded-lg text-sm bg-slate-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500/20 w-48"})]}),e.jsx(d,{variant:"outline",size:"icon",className:"h-9 w-9",children:e.jsx(Ce,{className:"w-4 h-4"})})]})]}),e.jsx(T,{className:"p-0",children:a?e.jsxs("div",{className:"py-20 text-center text-slate-400 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),"Loading library..."]}):!j||j.length===0?e.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-4",children:[e.jsx("div",{className:"p-4 bg-slate-50 rounded-full",children:e.jsx(C,{className:"w-12 h-12 text-slate-200"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-slate-900 font-semibold",children:"No reports generated yet"}),e.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Generate your first board summary or technical gap analysis above."})]}),e.jsxs(d,{onClick:()=>l(!0),variant:"outline",className:"mt-2",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Start Workshop"]})]}):e.jsx("div",{className:"divide-y divide-slate-50",children:j.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-5 hover:bg-slate-50/80 transition-colors group cursor-pointer",onClick:()=>n.info("Viewing report details"),children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2.5 bg-slate-50 text-slate-400 rounded-xl group-hover:bg-white group-hover:text-indigo-600 group-hover:shadow-sm transition-all border border-transparent group-hover:border-indigo-100",children:e.jsx(C,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 group-hover:text-indigo-600 transition-colors",children:s.title}),e.jsxs("div",{className:"flex items-center gap-3 text-[11px] font-medium text-slate-400 mt-1 uppercase tracking-wider",children:[e.jsx(U,{variant:"secondary",className:"bg-slate-100 text-slate-500 border-none font-bold",children:s.version||"v1.0"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"w-3.5 h-3.5"}),new Date(s.generatedAt).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(O,{className:"w-3.5 h-3.5"}),"PDF Export"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{variant:"ghost",size:"sm",className:"hidden group-hover:flex",children:"Download"}),e.jsx(d,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-red-600 hover:bg-red-50 hidden group-hover:flex",onClick:i=>{i.stopPropagation(),le(s.id)},children:e.jsx(se,{className:"w-4 h-4"})}),e.jsx(pe,{className:"w-5 h-5 text-slate-300 group-hover:translate-x-1 transition-transform"})]})]},s.id))})})]}),e.jsx(V,{open:p,onOpenChange:l,children:e.jsxs(z,{className:"max-w-2xl bg-white p-0 overflow-hidden rounded-2xl border-none shadow-2xl",children:[e.jsx("div",{className:"bg-indigo-600 p-8 text-white",children:e.jsxs(H,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-md",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsx(U,{className:"bg-white/20 text-white border-none text-[10px] font-bold tracking-widest uppercase",children:"Intelligence Workshop"})]}),e.jsx(W,{className:"text-2xl font-bold",children:"Report Assembly Workshop"}),e.jsx(K,{className:"text-white/70 text-sm",children:"Compose a professional-grade intelligence report by selecting components from your compliance data lake."})]})}),e.jsxs("div",{className:"p-8 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(I,{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Report Identity"}),e.jsx(ge,{value:x,onChange:s=>c(s.target.value),className:"h-9 border-slate-200 focus:ring-indigo-500/20 focus:border-indigo-500 bg-slate-50/50 text-sm",placeholder:"e.g. FY2026 Q1 Compliance Posture"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(I,{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Intelligence Components"}),e.jsx(d,{variant:"ghost",size:"sm",className:"h-6 text-[10px] text-indigo-600 font-bold hover:bg-indigo-50 hover:text-indigo-700",onClick:()=>{t.length===D.length?m([]):m(D.map(s=>s.id))},children:t.length===D.length?"Deselect All":"Select All"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:D.map(s=>e.jsxs("label",{onClick:()=>ce(s.id),className:`flex flex-col items-center gap-2 p-3 rounded-xl border transition-all text-center group relative cursor-pointer outline-none focus-within:ring-2 focus-within:ring-indigo-500/20 ${t.includes(s.id)?"border-indigo-500 bg-indigo-50/50 ring-2 ring-indigo-500/10":"border-slate-100 bg-white hover:border-slate-300"}`,children:[e.jsx("input",{type:"checkbox",checked:t.includes(s.id),onChange:()=>{},className:"sr-only"}),e.jsx("div",{className:`p-1.5 rounded-lg ${s.bg} ${s.color} group-hover:scale-110 transition-transform`,children:e.jsx(s.icon,{className:"w-4 h-4"})}),e.jsx("div",{children:e.jsx("h5",{className:"font-bold text-slate-800 text-[10px] leading-tight",children:s.label})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:`h-4 w-4 rounded-[4px] border flex items-center justify-center transition-colors ${t.includes(s.id)?"bg-indigo-600 border-indigo-600 text-white":"border-slate-300 bg-white"}`,children:t.includes(s.id)&&e.jsx(he,{className:"w-3 h-3 stroke-[3]"})})})]},s.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(I,{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Output Format"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:()=>o("pdf"),className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-xl border transition-all ${g==="pdf"?"border-indigo-500 bg-indigo-50 text-indigo-700 font-bold ring-2 ring-indigo-500/10":"border-slate-100 bg-white text-slate-500 hover:border-slate-300"}`,children:[e.jsx(C,{className:"w-4 h-4"})," PDF Office Document"]}),e.jsxs("button",{onClick:()=>o("docx"),className:`flex-1 flex items-center justify-center gap-2 p-3 rounded-xl border transition-all ${g==="docx"?"border-indigo-500 bg-indigo-50 text-indigo-700 font-bold ring-2 ring-indigo-500/10":"border-slate-100 bg-white text-slate-500 hover:border-slate-300"}`,children:[e.jsx(O,{className:"w-4 h-4"})," Word Edit Mode"]})]})]}),e.jsxs("div",{className:"p-3 bg-indigo-50/50 rounded-xl border border-indigo-100 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-indigo-400 flex-shrink-0"}),e.jsx("p",{className:"text-[10px] text-indigo-700 font-medium leading-tight",children:"AI-driven insights are cross-referenced with active evidence vaults for programmatic verification."})]})]}),e.jsxs(q,{className:"p-6 bg-slate-50 border-t flex items-center justify-between",children:[e.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["Estimated assembly time: ",e.jsx("span",{className:"text-indigo-600 font-bold",children:"~12 seconds"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{variant:"ghost",onClick:()=>l(!1),children:"Cancel"}),e.jsx(d,{onClick:ne,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 font-bold shadow-lg shadow-indigo-600/20",disabled:v.isLoading,children:v.isLoading?"Assembling...":"Generate Intelligence"})]})]})]})}),e.jsx(V,{open:!!h,onOpenChange:s=>!s&&b(null),children:e.jsxs(z,{className:"sm:max-w-md bg-white border-0 shadow-xl rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-red-50 p-6 border-b border-red-100",children:e.jsxs(H,{children:[e.jsxs(W,{className:"flex items-center gap-2 text-red-600 font-bold text-lg",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(M,{className:"w-5 h-5 text-red-600"})}),"Delete Intelligence Report"]}),e.jsx(K,{className:"pt-2 text-red-700/80 font-medium",children:"Are you sure you want to delete this report? This action cannot be undone and will permanently remove the file and record."})]})}),e.jsx("div",{className:"p-6 bg-white",children:e.jsxs("div",{className:"flex items-center p-3 bg-slate-50 border border-slate-100 rounded-lg text-sm text-slate-600 mb-2",children:[e.jsx(se,{className:"w-4 h-4 mr-2 text-slate-400"}),"File deletion will be permanent."]})}),e.jsxs(q,{className:"p-6 bg-slate-50 border-t flex justify-end gap-2",children:[e.jsx(d,{variant:"ghost",onClick:()=>b(null),disabled:R.isLoading,children:"Cancel, keep report"}),e.jsx(d,{variant:"destructive",onClick:oe,disabled:R.isLoading,className:"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-600/20",children:R.isLoading?"Deleting...":"Delete Permanently"})]})]})})]})},Oe=({clientId:r,onViewFullAnalysis:p})=>{const{data:l,isLoading:x}=k.metrics.getDashboard.useQuery({clientId:r});if(x)return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 animate-pulse",children:[1,2,3].map(a=>e.jsx("div",{className:"h-32 bg-slate-100 rounded-xl"},a))});const{strategic:c,cyber:t,culture:m,supplyChain:g,compliance:o,resilience:h}=l||{},b=[{subject:"Strategic",A:c!=null&&c.riskAppetiteConsumption?100-c.riskAppetiteConsumption:0,fullMark:100},{subject:"Cyber",A:(t==null?void 0:t.assetCriticalityCoverage)||0,fullMark:100},{subject:"Culture",A:(m==null?void 0:m.policyAckRate)||0,fullMark:100},{subject:"Supply Chain",A:100-((g==null?void 0:g.avgCriticalVendorRisk)||0),fullMark:100},{subject:"Compliance",A:(o==null?void 0:o.controlEffectiveness)||0,fullMark:100},{subject:"Resilience",A:(h==null?void 0:h.biaCompletionRate)||0,fullMark:100}],j=[{label:"Compliance Posture",value:`${(o==null?void 0:o.controlEffectiveness)||0}%`,description:"Implemented & Passing Controls",icon:A,color:"text-emerald-600",bg:"bg-emerald-50",trend:"+2.4% from last month"},{label:"Critical Risks",value:(c==null?void 0:c.criticalRisksUnmitigated)||0,description:"High inherent risk, no treatment",icon:ue,color:"text-rose-600",bg:"bg-rose-50",trend:"Action required"},{label:"Open Vulnerabilities",value:(t==null?void 0:t.openVulns)||0,description:"Detected in active assets",icon:ae,color:"text-amber-600",bg:"bg-amber-50",trend:"-12% improvement"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:j.map((a,u)=>e.jsx(P,{className:"border-none shadow-md bg-white overflow-hidden group hover:shadow-lg transition-all duration-300",children:e.jsxs(T,{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:`p-3 rounded-xl ${a.bg} ${a.color} transition-transform group-hover:scale-110 duration-300`,children:e.jsx(a.icon,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold uppercase tracking-wider text-slate-400 bg-slate-50 px-2 py-1 rounded-full",children:["Live ",e.jsx(F,{className:"w-2.5 h-2.5 text-emerald-500 animate-pulse"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h3",{className:"text-sm font-medium text-slate-500",children:a.label}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-slate-900",children:a.value}),e.jsxs("span",{className:"text-xs font-semibold text-emerald-600 flex items-center",children:[e.jsx(Re,{className:"w-3 h-3"}),a.trend.includes("%")?a.trend.split(" ")[0]:""]})]}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:a.description})]})]})},u))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[e.jsxs(P,{className:"lg:col-span-3 border-none shadow-md bg-white overflow-hidden",children:[e.jsx(B,{className:"border-b border-slate-50 pb-4",children:e.jsxs(G,{className:"text-lg flex items-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5 text-indigo-500"}),"Domain Maturity Profile"]})}),e.jsx(T,{className:"p-6",children:e.jsx("div",{className:"h-[350px] w-full",children:e.jsx(Se,{width:"100%",height:"100%",children:e.jsxs(Pe,{cx:"50%",cy:"50%",outerRadius:"80%",data:b,children:[e.jsx(Te,{stroke:"#e2e8f0"}),e.jsx(Le,{dataKey:"subject",tick:{fill:"#64748b",fontSize:12,fontWeight:500}}),e.jsx(Ee,{angle:30,domain:[0,100],tick:!1,axisLine:!1}),e.jsx(Fe,{name:"Maturity",dataKey:"A",stroke:"#6366f1",fill:"#6366f1",fillOpacity:.5}),e.jsx(De,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}})]})})})})]}),e.jsxs(P,{className:"lg:col-span-2 border-none bg-gradient-to-br from-indigo-600 to-violet-700 text-white shadow-xl",children:[e.jsx(B,{children:e.jsxs(G,{className:"text-lg flex items-center gap-2",children:[e.jsx(Ie,{className:"w-5 h-5 text-indigo-200"}),"AI Posture Insights"]})}),e.jsxs(T,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-4 border border-white/20",children:[e.jsxs("h4",{className:"font-bold text-sm mb-1 text-indigo-100 uppercase tracking-widest flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),"Current Summary"]}),e.jsxs("p",{className:"text-sm leading-relaxed text-indigo-50",children:["Your overall compliance posture is ",e.jsxs("b",{children:[(o==null?void 0:o.controlEffectiveness)||0,"%"]}),". Risk appetite consumption is currently within within set thresholds, but critical vendor risks require attention."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-indigo-200",children:"Key Recommendations"}),[{text:"Perform BIA for 3 critical business processes.",icon:Be},{text:"Remediate high-velocity vulnerabilities in Finance assets.",icon:ae},{text:"Complete ISO 27001 readiness assessment.",icon:ie}].map((a,u)=>e.jsxs("div",{className:"flex gap-3 items-start group",children:[e.jsx("div",{className:"mt-1 p-1 bg-white/10 rounded-lg group-hover:bg-white/20 transition-colors",children:e.jsx(a.icon,{className:"w-3.5 h-3.5"})}),e.jsx("span",{className:"text-sm text-indigo-50",children:a.text})]},u))]}),e.jsx("div",{className:"pt-4 mt-auto",children:e.jsxs("button",{onClick:p,className:"w-full py-3 bg-white text-indigo-700 rounded-xl font-bold text-sm shadow-lg hover:bg-slate-50 transition-all flex items-center justify-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4"}),"View Full Analysis"]})})]})]})]})]})};function Is(){const r=be(),{selectedClientId:p,planTier:l}=fe(),x=r.id?parseInt(r.id,10):p,[c,t]=je.useState("dashboard"),m=l==="pro"||l==="enterprise";return x?e.jsx(Y,{children:e.jsxs("div",{className:"space-y-8 p-8 animate-in fade-in slide-in-from-bottom-4 duration-700 max-w-[1400px] mx-auto",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs($e,{variant:"outline",className:"border-indigo-200 text-indigo-700 bg-indigo-50/50 flex items-center gap-1.5 px-3",children:[e.jsx($,{className:"w-3.5 h-3.5"}),"Premium Analytics"]})}),e.jsxs("h2",{className:"text-4xl font-extrabold tracking-tight text-slate-900",children:["Reporting ",e.jsx("span",{className:"text-indigo-600",children:"&"})," Insights"]}),e.jsx("p",{className:"text-slate-500 max-w-2xl text-lg",children:"Intelligence-led compliance oversight. Monitor posture, identify gaps, and generate executive reports."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(d,{variant:"outline",className:"h-11 shadow-sm border-slate-200",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Audit Logs"]}),e.jsxs(d,{className:"h-11 shadow-lg shadow-indigo-500/20 bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Export Posture"]})]})]}),e.jsxs(we,{value:c,onValueChange:t,className:"w-full",children:[e.jsxs(ye,{className:"bg-slate-100/50 p-1 border border-slate-200/60 text-slate-500 mb-8 rounded-xl h-14",children:[e.jsxs(Z,{value:"dashboard",className:"rounded-lg h-full px-8 data-[state=active]:bg-white data-[state=active]:text-indigo-600 data-[state=active]:shadow-sm transition-all",children:[e.jsx(ve,{className:"w-4 h-4 mr-2"}),"Executive Dashboard"]}),e.jsxs(Z,{value:"reports",className:"rounded-lg h-full px-8 data-[state=active]:bg-white data-[state=active]:text-indigo-600 data-[state=active]:shadow-sm transition-all",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Report Workshop"]})]}),e.jsx(J,{value:"dashboard",className:"mt-0 focus-visible:outline-none",children:e.jsx(re,{featureId:"executive_dashboard",title:"Executive Dashboard",description:"Advanced analytics and trend reporting for board-level insights.",isPremiumEnabled:m,children:e.jsx(Oe,{clientId:x,onViewFullAnalysis:()=>t("reports")})})}),e.jsx(J,{value:"reports",className:"mt-0 focus-visible:outline-none",children:e.jsx(re,{featureId:"report_builder",title:"Advanced Report Builder",description:"Generate Gap Analysis, One-Click Audit Packs, and custom PDF reports.",isPremiumEnabled:m,children:e.jsx(Me,{clientId:x})})})]})]})}):e.jsx(Y,{children:e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh] text-center space-y-4",children:[e.jsx("div",{className:"p-4 bg-slate-50 rounded-full",children:e.jsx(A,{className:"w-12 h-12 text-slate-300"})}),e.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"No Client Workspace Selected"}),e.jsx("p",{className:"text-slate-500 max-w-sm",children:"Please select a client from the sidebar or the Clients list to view reporting intelligence."})]})})}const $e=({children:r,variant:p,className:l})=>e.jsx("div",{className:`text-xs font-bold py-1 px-2.5 rounded-full ${p==="outline"?"border":"bg-slate-100"} ${l}`,children:r});export{Is as default};

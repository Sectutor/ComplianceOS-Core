import{ab as K,b as X,r as o,t as C,j as e,S as Q,c as k,C as I,m as Z,k as A,i as W,F as V}from"./index-DOc7Nwb7.js";import{D as z}from"./DashboardLayout-aHnUqq57.js";import{B as q}from"./Breadcrumb-CRi3LAxS.js";import{P as ee,a as te}from"./PageGuide-CPKKXXS6.js";import{B as ae}from"./bar-chart-3-BCngNY6H.js";import{C as E}from"./clipboard-check-CQkJX5J0.js";import{T as se}from"./trending-up-eUiO956o.js";import{L as re}from"./layers-ZuBPQb1T.js";import{R as U}from"./rocket-C2MuHhsn.js";import{A as le}from"./activity-B1F2IRm3.js";import{T as _}from"./target-cfAj3L6j.js";import{I as Y}from"./info-By5wLOUH.js";import{A as ie}from"./arrow-right-M96iV-v9.js";import{C as G}from"./circle-check-C5kiwRoG.js";import{E as ce}from"./external-link-C3PXjBR9.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./database-Bjtecw5f.js";import"./shield-check-ETs8j4-d.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";import"./separator-BWuYil37.js";const R=[{id:"Governance",name:"Governance",color:"blue",icon:Q},{id:"Design",name:"Design",color:"purple",icon:re},{id:"Implementation",name:"Implementation",color:"orange",icon:U},{id:"Verification",name:"Verification",color:"emerald",icon:E},{id:"Operations",name:"Operations",color:"amber",icon:le}];function qe(){var L;const{id:d}=K(),[,g]=X(),x=parseInt(d||"0"),[i,p]=o.useState(null),[t,c]=o.useState("Governance"),{data:r,isLoading:S}=C.sammV2.getPractices.useQuery({clientId:x}),{data:n,refetch:j}=C.sammV2.getAssessments.useQuery({clientId:x}),{data:m}=C.sammV2.calculateOverallScore.useQuery({clientId:x}),b=C.sammV2.generateImprovementPlan.useMutation();o.useEffect(()=>{if(r&&!i){const a=r.find(l=>l.businessFunction==="Governance");a&&p(a.practiceId)}},[r,i]);const h=o.useMemo(()=>r==null?void 0:r.find(a=>a.practiceId===i),[r,i]),u=o.useMemo(()=>(r==null?void 0:r.filter(a=>a.businessFunction===t))||[],[r,t]);return S?e.jsx(z,{children:e.jsx("div",{className:"flex h-screen items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):e.jsx(z,{children:e.jsxs("div",{className:"flex flex-col space-y-6 pb-12",children:[e.jsx(q,{items:[{label:"Assurance",href:`/clients/${x}/assurance`},{label:"OWASP SAMM v2",active:!0}]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h1",{className:"text-4xl font-black tracking-tight text-slate-900 flex items-center gap-3",children:[e.jsx(Q,{className:"w-10 h-10 text-primary"}),"OWASP SAMM ",e.jsx("span",{className:"text-primary",children:"v2"})]}),e.jsx("p",{className:"text-slate-500 font-medium max-w-2xl",children:"Comprehensive Software Assurance Maturity Model assessment. Measure your AppSec program across 15 practices and 30 maturity streams."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(ee,{title:"SAMM Assessment Guide",description:"A comprehensive guide to performing OWASP SAMM v2 assessments using the stream-based model.",rationale:"SAMM v2's stream-based model ensures a balanced approach between having the right processes (Stream A) and actually measuring their effectiveness (Stream B). This diagnostic balance prevents 'flying blind' in your security program.",howToUse:[{step:"Stream A vs. Stream B",description:"Stream A focuses on policies and tools. Stream B focuses on verification and metrics. Your practice score is the average of both."},{step:"Diagnostic Balance",description:"Identify gaps where you have tools (Stream A) but no data (Stream B). Bring both into balance for true maturity."},{step:"Achieve Your Goals",description:"Set targets for each stream and use the 'Build Roadmap' feature to generate a tactical task list."}]}),e.jsxs(k,{variant:"outline",className:"gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),"View Benchmarks"]}),e.jsxs(k,{className:"gap-2 bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20",children:[e.jsx(E,{className:"w-4 h-4"}),"Export Report"]})]})]}),e.jsxs(I,{className:"border-none bg-gradient-to-br from-[#0f172a] to-[#1e293b] text-white overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:e.jsx(se,{className:"w-48 h-48"})}),e.jsxs(Z,{className:"p-8 flex flex-col md:flex-row items-center gap-12 relative z-10",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsxs("div",{className:"relative w-40 h-40 flex items-center justify-center",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"rgba(255,255,255,0.1)",strokeWidth:"12",fill:"transparent"}),e.jsx("circle",{cx:"80",cy:"80",r:"70",stroke:"#0ea5e9",strokeWidth:"12",fill:"transparent",strokeDasharray:440,strokeDashoffset:440-440*((m==null?void 0:m.overallScore)||0)/3,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),e.jsxs("div",{className:"absolute flex flex-col items-center",children:[e.jsx("span",{className:"text-5xl font-black text-white",children:((m==null?void 0:m.overallScore)||0).toFixed(1)}),e.jsx("span",{className:"text-xs uppercase tracking-widest text-slate-400 font-bold",children:"Maturity Level"})]})]}),e.jsxs(A,{variant:"outline",className:"bg-white/10 text-sky-400 border-white/20 px-3 py-1",children:["Target: ",((L=m==null?void 0:m.overallTarget)==null?void 0:L.toFixed(1))||"1.5"]})]}),e.jsx("div",{className:"flex-1 grid grid-cols-2 lg:grid-cols-5 gap-6 w-full",children:R.map(a=>{var v,N;const l=(v=m==null?void 0:m.businessFunctions)==null?void 0:v[a.id];return e.jsxs("div",{className:"space-y-2 group cursor-pointer",onClick:()=>c(a.id),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${t===a.id?"text-white":"text-slate-400"}`,children:a.name}),e.jsx("span",{className:"text-lg font-bold",children:((l==null?void 0:l.score)||0).toFixed(1)})]}),e.jsx("div",{className:"h-1.5 w-full bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full bg-sky-500 transition-all duration-700 ${t===a.id?"opacity-100 shadow-[0_0_8px_rgba(14,165,233,0.5)]":"opacity-40"}`,style:{width:`${((l==null?void 0:l.score)||0)/3*100}%`}})}),e.jsxs("div",{className:"flex justify-between items-center opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs("span",{className:"text-[10px] text-slate-400",children:["Target: ",((N=l==null?void 0:l.target)==null?void 0:N.toFixed(1))||"1.0"]}),e.jsx(a.icon,{className:`w-3 h-3 ${t===a.id?"text-sky-400":"text-slate-500"}`})]})]},a.id)})})]})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-4 xl:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden p-2",children:[e.jsx("div",{className:"grid grid-cols-5 gap-1 mb-4",children:R.map(a=>{const l=a.icon,v=t===a.id;return e.jsx("button",{onClick:()=>c(a.id),className:`flex flex-col items-center justify-center p-3 rounded-2xl transition-all ${v?"bg-primary text-white shadow-lg shadow-primary/20 scale-105":"text-slate-400 hover:bg-slate-100 hover:text-slate-600"}`,title:a.name,children:e.jsx(l,{className:"w-5 h-5"})},a.id)})}),e.jsx("div",{className:"space-y-1",children:u.map(a=>{const l=i===a.practiceId,N=((n==null?void 0:n.filter(P=>P.practiceId===a.practiceId))||[]).length;return e.jsxs("button",{onClick:()=>p(a.practiceId),className:`w-full text-left p-4 rounded-2xl transition-all flex items-center justify-between group ${l?"bg-slate-900 text-white shadow-xl":"hover:bg-slate-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center font-black text-sm ${l?"bg-primary text-white":"bg-slate-100 text-slate-500 group-hover:bg-slate-200"}`,children:a.practiceId}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-bold truncate max-w-[150px]",children:a.practiceName}),e.jsxs("span",{className:"text-[10px] uppercase tracking-widest font-bold text-slate-400",children:[N,"/2 Streams"]})]})]}),l&&e.jsx(de,{className:"w-4 h-4 text-primary"})]},a.practiceId)})})]}),e.jsx(I,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 border-none shadow-none p-6 rounded-3xl",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500 text-white flex items-center justify-center shadow-lg shadow-emerald-500/20",children:e.jsx(_,{className:"w-6 h-6"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-bold text-emerald-900",children:"Need an action plan?"}),e.jsx("p",{className:"text-xs text-emerald-700/80 leading-relaxed font-medium",children:"Generate a customized implementation plan based on your current gaps."})]}),e.jsx(k,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl shadow-md shadow-emerald-600/20 py-6 font-black",disabled:b.isLoading,onClick:()=>{W.promise(b.mutateAsync({clientId:x}),{loading:"Building your security roadmap...",success:a=>(g(`/clients/${x}/implementation/kanban/${a.planId}`),`Generated plan with ${a.taskCount} tasks!`),error:a=>`Failed to generate plan: ${a.message}`})},children:b.isLoading?"Building...":"Build Roadmap"})]})})]}),e.jsx("div",{className:"col-span-12 lg:col-span-8 xl:col-span-9",children:h?e.jsx(ne,{practice:h,clientId:x,onUpdate:j,existingAssessments:(n==null?void 0:n.filter(a=>a.practiceId===i))||[]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-4 p-12 bg-slate-50 rounded-3xl border border-dashed border-slate-300",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-200 flex items-center justify-center animate-pulse",children:e.jsx(Y,{className:"w-8 h-8 text-slate-400"})}),e.jsx("p",{className:"text-slate-400 font-medium",children:"Select a practice to begin assessment"})]})})]})]})})}function ne({practice:d,clientId:g,onUpdate:x,existingAssessments:i}){const[p,t]=o.useState("A"),c=i==null?void 0:i.find(u=>u.streamId==="A"),r=i==null?void 0:i.find(u=>u.streamId==="B"),[S,n]=o.useState((c==null?void 0:c.maturityLevel)||0),[j,m]=o.useState((r==null?void 0:r.maturityLevel)||0);o.useEffect(()=>{c&&n(c.maturityLevel)},[c==null?void 0:c.maturityLevel]),o.useEffect(()=>{r&&m(r.maturityLevel)},[r==null?void 0:r.maturityLevel]);const b=o.useCallback(u=>{p==="A"?n(u):m(u)},[p]),h=(S+j)/2;return e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-right-4 duration-500",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-6 border-b border-slate-100",children:[e.jsxs("div",{className:"space-y-2 max-w-2xl",children:[e.jsx(A,{className:"bg-primary/10 text-primary border-primary/20 font-black px-3 py-1",children:d.businessFunction}),e.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:d.practiceName}),e.jsx("p",{className:"text-slate-500 font-medium leading-relaxed",children:d.description})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm flex items-center gap-8 px-10",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-black text-slate-400 mb-1",children:"Maturity"}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-4xl font-black text-primary",children:h.toFixed(1)}),e.jsx("span",{className:"text-sm text-slate-400 font-bold",children:"/ 3.0"})]})]}),e.jsx("div",{className:"h-10 w-px bg-slate-100"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs uppercase tracking-widest font-black text-slate-400 mb-1",children:"Status"}),e.jsx(A,{variant:h>1.5?"success":h>.5?"warning":"default",className:"font-bold text-sm px-3 py-1",children:h===3?"Optimized":h>=2?"Managed":h>=1?"Defined":"Initial"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(O,{streamId:"A",name:d.streamAName,description:d.streamADescription,active:p==="A",onClick:()=>t("A"),maturity:S}),e.jsx(O,{streamId:"B",name:d.streamBName,description:d.streamBDescription,active:p==="B",onClick:()=>t("B"),maturity:j})]}),e.jsx(oe,{clientId:g,practiceId:d.practiceId,streamId:p,streamName:p==="A"?d.streamAName:d.streamBName,onUpdate:x,assessment:p==="A"?c:r,onMaturityChange:b})]})}function O({streamId:d,name:g,description:x,active:i,onClick:p,maturity:t}){return e.jsxs("button",{onClick:p,className:`relative p-6 rounded-3xl border transition-all text-left overflow-hidden group ${i?"border-primary bg-primary/5 shadow-inner":"border-slate-200 bg-white hover:border-slate-300 hover:shadow-md"}`,children:[i&&e.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mr-8 -mt-8 bg-primary/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[e.jsxs(A,{variant:"outline",className:`${i?"border-primary text-primary":"text-slate-400 border-slate-200"} font-black px-2`,children:["Stream ",d]}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3].map(c=>e.jsx("div",{className:`w-2 h-2 rounded-full ${c<=t?"bg-primary":"bg-slate-200"}`},c))})]}),e.jsx("h4",{className:`text-xl font-black mb-1 relative z-10 ${i?"text-slate-900":"text-slate-700"}`,children:g}),e.jsx("p",{className:"text-xs text-slate-500 font-medium line-clamp-2 relative z-10",children:x}),i&&e.jsx("div",{className:"absolute bottom-4 right-4 animate-bounce",children:e.jsx(ie,{className:"w-4 h-4 text-primary"})})]})}function oe({clientId:d,practiceId:g,streamId:x,streamName:i,onUpdate:p,assessment:t,onMaturityChange:c}){const{data:r,isLoading:S}=C.sammV2.getStreamQuestions.useQuery({practiceId:g,streamId:x},{enabled:!!g}),[n,j]=o.useState((t==null?void 0:t.assessmentAnswers)||{}),[m,b]=o.useState((t==null?void 0:t.qualityCriteria)||{}),[h,u]=o.useState((t==null?void 0:t.levelNotes)||{}),[L,a]=o.useState((t==null?void 0:t.notes)||""),[l,v]=o.useState((t==null?void 0:t.targetLevel)||1);o.useEffect(()=>{j((t==null?void 0:t.assessmentAnswers)||{}),b((t==null?void 0:t.qualityCriteria)||{}),u((t==null?void 0:t.levelNotes)||{}),a((t==null?void 0:t.notes)||""),v((t==null?void 0:t.targetLevel)||1)},[t,x]);const N=C.sammV2.updateStreamAssessment.useMutation({onSuccess:()=>{p(),W.success(`Stream ${x} updated`)}}),P=(s,f)=>{const M=String(s);j(y=>({...y,[M]:f}))},H=(s,f,M)=>{b(y=>({...y,[s]:{...y[s]||{},[f]:M}}))},T=o.useMemo(()=>{let s=0;if(n[1]||n[1])s=1;else return 0;if(n[2]||n[2])s=2;else return 1;if(n[3]||n[3])s=3;else return 2;return s},[n]);o.useEffect(()=>{c&&c(T)},[T,c]);const J=()=>{N.mutate({clientId:d,practiceId:g,streamId:x,maturityLevel:T,targetLevel:l,assessmentAnswers:n,qualityCriteria:m,levelNotes:h,notes:L})};return S?e.jsx("div",{className:"h-64 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-8 pb-12",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-2xl font-black text-slate-800 flex items-center gap-2",children:[e.jsx(E,{className:"w-6 h-6 text-primary"}),"Stream ",x," Assessment"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Target Level"}),e.jsx("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[1,2,3].map(s=>e.jsxs("button",{onClick:()=>v(s),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all ${l===s?"bg-white shadow-sm text-primary":"text-slate-400 hover:text-slate-600"}`,children:["L",s]},s))})]})]}),e.jsx("div",{className:"grid gap-8",children:r==null?void 0:r.map(s=>{var y,F;const f=n[s.level],M=s.level===l;return e.jsx(I,{className:`border-none shadow-none overflow-hidden rounded-3xl transition-all ${f?"bg-white ring-2 ring-primary/20":"bg-white border border-slate-100"}`,children:e.jsxs("div",{className:"grid md:grid-cols-12",children:[e.jsxs("div",{className:`md:col-span-1 p-4 flex flex-col items-center justify-center border-r border-slate-50 transition-colors ${f?"bg-primary text-white":"bg-slate-50 text-slate-400"}`,children:[e.jsx("span",{className:"text-sm font-black italic",children:"LVL"}),e.jsx("span",{className:"text-3xl font-black",children:s.level})]}),e.jsxs("div",{className:"md:col-span-11 p-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6 mb-8",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(A,{variant:"outline",className:`${f?"border-primary/30 text-primary bg-primary/5":"text-slate-400"}`,children:["Level ",s.level]}),M&&e.jsxs(A,{className:"bg-emerald-500 text-white border-none gap-1 font-bold",children:[e.jsx(_,{className:"w-3 h-3"})," Target"]})]}),e.jsx("h4",{className:"text-xl font-bold text-slate-900 leading-tight",children:s.question})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(k,{variant:f?"default":"outline",className:`rounded-2xl h-20 px-10 transition-all font-black text-lg ${f?"bg-primary hover:bg-primary/90 scale-105 shadow-xl shadow-primary/20":"hover:border-primary hover:text-primary"}`,onClick:()=>P(s.level,!f),children:f?e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(G,{className:"w-6 h-6 mb-1"}),e.jsx("span",{children:"Achieved"})]}):"Mark Achieved"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h5",{className:"text-[10px] font-black uppercase tracking-widest text-[#0284c7] flex items-center gap-2",children:[e.jsx(te,{className:"w-3.5 h-3.5"}),"Activity & Criteria"]}),e.jsx("div",{className:"space-y-3",children:(y=s.qualityCriteria)==null?void 0:y.map(($,w)=>{var D;const B=(D=m[s.level])==null?void 0:D[w];return e.jsxs("div",{onClick:()=>H(s.level,w,!B),className:`flex gap-4 items-start p-4 rounded-2xl transition-all cursor-pointer border ${B?"bg-sky-50/50 border-sky-100":"bg-white border-slate-100 hover:border-slate-200"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 mt-0.5 transition-all ${B?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-slate-100 text-slate-300"}`,children:e.jsx(G,{className:"w-4 h-4"})}),e.jsx("span",{className:`text-sm font-medium leading-relaxed ${B?"text-slate-800":"text-slate-500"}`,children:$})]},w)})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl space-y-4",children:[e.jsxs("h5",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[e.jsx(U,{className:"w-3.5 h-3.5 text-orange-500"}),"Expected Benefits"]}),e.jsxs("p",{className:"text-sm text-slate-600 font-medium italic leading-relaxed",children:['"',s.benefits,'"']})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h5",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[e.jsx(V,{className:"w-3.5 h-3.5 text-primary"}),"Suggested Evidence"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(F=s.suggestedEvidence)==null?void 0:F.map(($,w)=>e.jsx(A,{variant:"secondary",className:"bg-white border-slate-100 text-slate-600 font-bold px-3 py-1.5 rounded-lg shadow-sm",children:$},w))})]})]})]}),e.jsxs("div",{className:"mt-10 -mx-8 -mb-8",children:[e.jsx("div",{className:"px-8 py-3 bg-slate-50 border-t border-b border-slate-100 flex items-center justify-between",children:e.jsxs("h5",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 flex items-center gap-2",children:[e.jsx(V,{className:"w-3.5 h-3.5"}),"Implementation Findings & Evidence (Level ",s.level,")"]})}),e.jsx("textarea",{value:h[s.level]||"",onChange:$=>u(w=>({...w,[s.level]:$.target.value})),placeholder:`Document how your organization satisfies the requirements for Level ${s.level}...`,className:"w-full min-h-[100px] p-8 bg-white text-sm text-slate-600 placeholder:text-slate-300 transition-all outline-none resize-none"})]})]})]})},s.id)})}),e.jsxs(I,{className:"rounded-3xl border-none bg-white p-8 space-y-6 shadow-sm border border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-primary"}),"Assessment Notes & Evidence"]}),e.jsxs(k,{variant:"ghost",size:"sm",className:"gap-2 text-primary font-bold",onClick:()=>window.open("https://owaspsamm.org/model/","_blank"),children:[e.jsx(ce,{className:"w-4 h-4"}),"SAMM Docs"]})]}),e.jsx("textarea",{value:L,onChange:s=>a(s.target.value),placeholder:"Add supporting evidence, notes on gaps, or internal discussions here...",className:"w-full min-h-[150px] p-6 rounded-2xl bg-slate-50 border border-slate-100 text-slate-700 placeholder:text-slate-400 focus:ring-2 focus:ring-primary/20 transition-all outline-none font-medium"}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-50",children:[e.jsx(k,{variant:"outline",className:"px-8 rounded-xl font-bold h-12",onClick:()=>{j((t==null?void 0:t.assessmentAnswers)||{}),b((t==null?void 0:t.qualityCriteria)||{}),u((t==null?void 0:t.levelNotes)||{}),a((t==null?void 0:t.notes)||"")},children:"Reset Changes"}),e.jsx(k,{className:"px-10 rounded-xl font-black h-12 bg-primary hover:bg-primary/90 shadow-lg shadow-primary/20",onClick:J,disabled:N.isLoading,children:N.isLoading?"Saving...":"Save Assessment"})]})]})]})}function de(d){return e.jsx("svg",{...d,xmlns:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M9 18l6-6-6-6"})})}export{qe as default};

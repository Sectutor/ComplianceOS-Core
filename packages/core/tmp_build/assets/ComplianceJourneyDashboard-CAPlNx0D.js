import{ab as L,b as A,t as b,j as e,x as E,k as u,c as g}from"./index-DOc7Nwb7.js";import{D as f,m as B}from"./DashboardLayout-aHnUqq57.js";import{P as j}from"./progress-B-1k4ZZX.js";import{B as T}from"./Breadcrumb-CRi3LAxS.js";import{c as a}from"./utils-BC5CVi_C.js";import{M as z}from"./map-BanbvCdZ.js";import{S as G}from"./shield-check-ETs8j4-d.js";import{C as I}from"./clipboard-check-CQkJX5J0.js";import{B as M}from"./briefcase-BxorFA78.js";import{C as S}from"./circle-check-C5kiwRoG.js";import{L as v}from"./lock-czWF3qbC.js";import{P as $}from"./play-CNfCaKB0.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./target-cfAj3L6j.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";function ye(){const{id:N}=L(),l=parseInt(N||"0"),[D,w]=A(),{data:o,isLoading:y}=b.readiness.list.useQuery({clientId:l}),{data:r,isLoading:C}=b.compliance.frameworkStats.list.useQuery({clientId:l}),c=o==null?void 0:o[0],i=c?Math.round((c.currentStep||1)/6*100):0,k=(r==null?void 0:r.reduce((s,h)=>s+h.percentage,0))||0,d=r!=null&&r.length?Math.round(k/r.length):0,m=i>=40,x=i>=80&&d>=80,P=[{id:"readiness",level:1,title:"Readiness Assessment",subtitle:"Phase 1: Discovery",description:"Identify gaps against frameworks like SOC 2 & ISO 27001.",icon:B,path:`/clients/${l}/readiness/wizard`,color:"text-blue-600",bgGradient:"from-blue-50 to-indigo-50",borderColor:"border-blue-200",shadowColor:"shadow-blue-100",buttonText:"Start Assessment",progress:i,status:i>=80?"completed":"in-progress",locked:!1},{id:"evidence",level:2,title:"Evidence Collection",subtitle:"Phase 2: Implementation",description:"Connect integrations and upload proof of compliance.",icon:I,path:`/clients/${l}/evidence`,color:"text-purple-600",bgGradient:"from-purple-50 to-fuchsia-50",borderColor:"border-purple-200",shadowColor:"shadow-purple-100",buttonText:"Collect Evidence",progress:d,status:m?"in-progress":"locked",locked:!m},{id:"audit",level:3,title:"Audit Preparation",subtitle:"Phase 3: Certification",description:"Collaborate with auditors in the Audit Room.",icon:M,path:`/clients/${l}/audit-hub`,color:"text-emerald-600",bgGradient:"from-emerald-50 to-teal-50",borderColor:"border-emerald-200",shadowColor:"shadow-emerald-100",buttonText:"Enter Audit Hub",progress:0,status:x?"ready":"locked",locked:!x}],p=Math.round(i*.3+d*.7);return y||C?e.jsx(f,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(E,{className:"h-8 w-8 animate-spin text-indigo-600"})})}):e.jsx(f,{children:e.jsxs("div",{className:"min-h-screen bg-slate-50/50 pb-20",children:[e.jsx("div",{className:"bg-white border-b border-slate-200 px-8 py-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(T,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Client Journey"}],className:"mb-6"}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg text-indigo-700",children:e.jsx(z,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Compliance Journey"})]}),e.jsx("p",{className:"text-lg text-slate-500 max-w-2xl leading-relaxed",children:"Your roadmap to certification. Complete each phase to unlock the next level. We've gamified the process to keep it organized and efficient."})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 p-4 rounded-xl border border-slate-200 min-w-[280px]",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium mb-2",children:[e.jsx("span",{className:"text-slate-700",children:"Total Progress"}),e.jsxs("span",{className:"text-indigo-600 font-bold",children:[p,"%"]})]}),e.jsx(j,{value:p,className:"h-3"})]}),e.jsx(G,{className:"w-8 h-8 text-slate-300"})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-12",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden lg:block absolute top-[140px] left-0 w-full h-1 bg-gradient-to-r from-blue-200 via-purple-200 to-emerald-200 -z-0 rounded-full opacity-50"}),e.jsx("div",{className:"grid lg:grid-cols-3 gap-8",children:P.map((s,h)=>{const t=s.locked,n=s.status==="completed";return e.jsxs("div",{className:"relative group z-10",children:[e.jsxs("div",{className:a("absolute -top-3 left-8 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border shadow-sm z-20 transition-all",t?"bg-slate-100 text-slate-400 border-slate-200":"bg-white text-slate-800 border-slate-200 group-hover:border-indigo-200 group-hover:scale-105"),children:["Level ",s.level]}),e.jsx("div",{className:a("h-full flex flex-col p-1 rounded-2xl transition-all duration-500",t?"bg-slate-100":`bg-gradient-to-br ${s.bgGradient} hover:shadow-xl hover:shadow-indigo-100 hover:-translate-y-1`),children:e.jsxs("div",{className:"h-full bg-white/60 backdrop-blur-sm border border-white/50 rounded-xl p-6 flex flex-col",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("div",{className:a("w-14 h-14 rounded-2xl flex items-center justify-center shadow-sm border border-white transition-transform group-hover:rotate-3",t?"bg-slate-100 text-slate-400":`bg-white ${s.color}`),children:e.jsx(s.icon,{className:"w-7 h-7"})}),n?e.jsxs(u,{variant:"secondary",className:"bg-green-100 text-green-700 border-green-200 gap-1 pl-1 pr-2",children:[e.jsx(S,{className:"w-3.5 h-3.5"})," Completed"]}):t?e.jsx("div",{className:"bg-slate-100 p-2 rounded-full",children:e.jsx(v,{className:"w-4 h-4 text-slate-400"})}):e.jsx(u,{variant:"secondary",className:"bg-blue-100 text-blue-700 border-blue-200 animate-pulse",children:"Active"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:a("text-xs font-bold uppercase tracking-widest mb-1",t?"text-slate-400":"text-slate-500"),children:s.subtitle}),e.jsx("h2",{className:a("text-xl font-bold mb-3",t?"text-slate-400":"text-slate-900"),children:s.title}),e.jsx("p",{className:a("text-sm leading-relaxed",t?"text-slate-400":"text-slate-600"),children:s.description})]}),e.jsxs("div",{className:"mt-auto space-y-4",children:[!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(j,{value:s.progress,className:"h-2"})]}),t?e.jsxs(g,{disabled:!0,className:"w-full bg-slate-100 text-slate-400 border border-slate-200",children:[e.jsx(v,{className:"w-4 h-4 mr-2"})," Locked"]}):e.jsxs(g,{onClick:()=>w(s.path),className:a("w-full transition-all group-hover:scale-[1.02]",n?"bg-white text-slate-700 border border-slate-200 hover:bg-slate-50":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-md shadow-indigo-200"),children:[s.buttonText,!n&&e.jsx($,{className:"w-4 h-4 ml-2 fill-current"})]})]})]})})]},s.id)})})]}),e.jsxs("div",{className:"mt-16 grid md:grid-cols-3 gap-6 opacity-80",children:[e.jsxs("div",{className:"p-4 border border-dashed border-slate-300 rounded-xl flex gap-4 items-start",children:[e.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg text-indigo-600",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-slate-900",children:"Linear Progression"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Completing one phase unlocks the next, preventing context switching."})]})]}),e.jsxs("div",{className:"p-4 border border-dashed border-slate-300 rounded-xl flex gap-4 items-start",children:[e.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg text-indigo-600",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-slate-900",children:"Evidence Gating"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Evidence collection only starts after you define your controls."})]})]}),e.jsxs("div",{className:"p-4 border border-dashed border-slate-300 rounded-xl flex gap-4 items-start",children:[e.jsx("div",{className:"bg-indigo-50 p-2 rounded-lg text-indigo-600",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-slate-900",children:"Audit Ready"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"The Audit Hub opens only when you are 80% ready, saving auditor fees."})]})]})]})]})]})})}export{ye as default};

import{M as k,j as e,C as f,m as v,T,r as m,x as b,k as y,R as V,D as _,ap as X,o as G,p as K,q as Y,s as ee,L as se,I as O,w as te,c as p,S as z,d as E,e as P,f as M,ay as ae,az as ie,aA as ne,aB as re,aC as le,aD as ce}from"./index-DOc7Nwb7.js";import{A as oe,a as de,b as me,c as xe,d as he,e as ge,f as ue,g as pe}from"./alert-dialog-V7xGXdVc.js";import{T as je,a as fe,b as B,c as ve}from"./tabs-CBDTXbEn.js";import{S as R}from"./scroll-area-DPaNxEJD.js";import{B as D}from"./box-CVKFmOr5.js";import{C as H}from"./circle-check-C5kiwRoG.js";import{C as U}from"./circle-x-DxtMpzS7.js";import{B as ye,S as Ne}from"./settings-CIu9FFiX.js";import{B as be}from"./brain-C-Zi22rJ.js";import{L as we}from"./layers-ZuBPQb1T.js";import{Z as Ce}from"./zap-B01fFOkT.js";import{E as Se}from"./external-link-C3PXjBR9.js";import{R as $}from"./refresh-cw-Cjym1DSW.js";import{I as Ae}from"./info-By5wLOUH.js";import{P as ke}from"./plus-BaQ35Jcx.js";import{S as Te}from"./search-CwuIBBPE.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=k("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=k("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=k("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),w={integration:e.jsx(Ce,{className:"h-4 w-4"}),template:e.jsx(we,{className:"h-4 w-4"}),storage:e.jsx(Ie,{className:"h-4 w-4"}),ai:e.jsx(be,{className:"h-4 w-4"}),analytics:e.jsx(De,{className:"h-4 w-4"}),notification:e.jsx(ye,{className:"h-4 w-4"}),compliance:e.jsx(z,{className:"h-4 w-4"}),automation:e.jsx(Le,{className:"h-4 w-4"}),security:e.jsx(z,{className:"h-4 w-4"}),utility:e.jsx(D,{className:"h-4 w-4"})},ze={integration:"bg-blue-100 text-blue-700 border-blue-200",template:"bg-purple-100 text-purple-700 border-purple-200",storage:"bg-green-100 text-green-700 border-green-200",ai:"bg-orange-100 text-orange-700 border-orange-200",analytics:"bg-yellow-100 text-yellow-700 border-yellow-200",notification:"bg-pink-100 text-pink-700 border-pink-200",compliance:"bg-indigo-100 text-indigo-700 border-indigo-200",automation:"bg-cyan-100 text-cyan-700 border-cyan-200",security:"bg-red-100 text-red-700 border-red-200",utility:"bg-gray-100 text-gray-700 border-gray-200"},Be={pending:{icon:e.jsx(Ae,{className:"h-3 w-3"}),color:"bg-gray-100 text-gray-700",label:"Pending"},installing:{icon:e.jsx(b,{className:"h-3 w-3 animate-spin"}),color:"bg-blue-100 text-blue-700",label:"Installing"},active:{icon:e.jsx(H,{className:"h-3 w-3"}),color:"bg-green-100 text-green-700",label:"Active"},inactive:{icon:e.jsx(U,{className:"h-3 w-3"}),color:"bg-gray-100 text-gray-600",label:"Inactive"},error:{icon:e.jsx(T,{className:"h-3 w-3"}),color:"bg-red-100 text-red-700",label:"Error"},updating:{icon:e.jsx($,{className:"h-3 w-3 animate-spin"}),color:"bg-yellow-100 text-yellow-700",label:"Updating"},uninstalling:{icon:e.jsx(b,{className:"h-3 w-3 animate-spin"}),color:"bg-orange-100 text-orange-700",label:"Uninstalling"}};function Oe({addon:s,onConfigure:r,onActivate:o,onDeactivate:x,onUninstall:i,isUpdating:h}){var u;const g=Be[s.status],d=ze[s.category];return e.jsxs(f,{className:"group relative overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${h?"bg-yellow-500 animate-pulse":""}`}),e.jsx(E,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${d}`,children:w[s.category]}),e.jsxs("div",{children:[e.jsx(P,{className:"text-lg font-semibold",children:s.name}),e.jsxs(M,{className:"text-xs text-muted-foreground",children:["v",s.version]})]})]}),e.jsxs(y,{className:`${g.color} flex items-center gap-1`,children:[g.icon,g.label]})]})}),e.jsxs(v,{className:"pb-3",children:[e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-4",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.jsxs(y,{variant:"outline",className:"text-xs",children:[w[s.category],e.jsx("span",{className:"ml-1 capitalize",children:s.category})]}),(u=s.tags)==null?void 0:u.slice(0,3).map(l=>e.jsx(y,{variant:"secondary",className:"text-xs",children:l},l))]}),s.error&&e.jsx("div",{className:"p-2 rounded-md bg-red-50 border border-red-200 text-red-700 text-xs mb-3",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:"Error:"}),e.jsx("span",{children:s.error})]})})]}),e.jsxs(ae,{className:"flex justify-between pt-3 border-t",children:[e.jsx("div",{className:"flex items-center gap-2",children:s.homepage&&e.jsx(ie,{children:e.jsxs(ne,{children:[e.jsx(re,{asChild:!0,children:e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsx("a",{href:s.homepage,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Se,{className:"h-4 w-4"})})})}),e.jsx(le,{children:e.jsx("p",{children:"View Documentation"})})]})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>r(s),className:"h-8",children:[e.jsx(Ne,{className:"h-3 w-3 mr-1"}),"Configure"]}),s.status==="active"?e.jsx(p,{variant:"outline",size:"sm",onClick:()=>x(s.id),className:"h-8 text-orange-600 hover:text-orange-700",disabled:h,children:"Deactivate"}):e.jsx(p,{variant:"default",size:"sm",onClick:()=>o(s.id),className:"h-8",disabled:s.status==="error"||h,children:"Activate"})]})]})]})}function Ee({addon:s,open:r,onOpenChange:o,children:x,onSave:i,isSaving:h}){const[g,d]=m.useState({});V.useEffect(()=>{s&&d(s.configuration||{})},[s]);const u=()=>{s&&i(s.id,g)};return e.jsxs(_,{open:r,onOpenChange:o,children:[e.jsx(X,{asChild:!0,children:x}),e.jsxs(G,{className:"max-w-lg",children:[e.jsxs(K,{children:[e.jsx(Y,{className:"flex items-center gap-2",children:(s==null?void 0:s.name)||"Addon Settings"}),e.jsx(ee,{children:"Configure the settings for this addon."})]}),e.jsx(R,{className:"max-h-[60vh] pr-4",children:e.jsx("div",{className:"space-y-4 py-4",children:s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted",children:[w[s.category],e.jsx("span",{className:"text-sm font-medium",children:s.category}),e.jsxs(y,{variant:"outline",className:"ml-auto",children:["v",s.version]})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(g).map(([l,j])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{className:"capitalize",children:l.replace(/([A-Z])/g," $1").replace(/_/g," ")}),e.jsx(O,{value:String(j),onChange:a=>d(N=>({...N,[l]:a.target.value})),disabled:typeof j=="boolean"})]},l))})]})})}),e.jsxs(te,{children:[e.jsx(p,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),e.jsxs(p,{onClick:u,disabled:h,children:[h&&e.jsx(b,{className:"h-4 w-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})}function Pe({addons:s,onConfigure:r,onActivate:o,onDeactivate:x,onUninstall:i,isLoading:h}){const g=["integration","template","storage","ai","analytics","notification","compliance","automation","security","utility"],[d,u]=m.useState("all"),l=d==="all"?s:s.filter(a=>a.category===d),j=a=>s.filter(N=>N.category===a).length;return h?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(b,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsx("div",{className:"space-y-6",children:e.jsxs(je,{value:d,onValueChange:a=>u(a),children:[e.jsx(R,{className:"w-full whitespace-nowrap pb-4",children:e.jsxs(fe,{className:"inline-flex h-10 items-center justify-start rounded-md bg-muted p-1 text-muted-foreground",children:[e.jsxs(B,{value:"all",className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all",children:["All (",s.length,")"]}),g.map(a=>e.jsxs(B,{value:a,className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all capitalize",children:[w[a],e.jsx("span",{className:"ml-1",children:a}),e.jsx(y,{variant:"secondary",className:"ml-1.5 text-xs",children:j(a)})]},a))]})}),e.jsx(ve,{value:d,className:"mt-4",children:l.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(D,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No addons found in this category"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(a=>e.jsx(Oe,{addon:a,onConfigure:r,onActivate:o,onDeactivate:x,onUninstall:i},a.id))})})]})})}function Me({addons:s}){const r=s.filter(i=>i.status==="active").length,o=s.filter(i=>i.status==="error").length,x=s.filter(i=>i.status==="inactive").length;return e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(f,{children:e.jsx(v,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Addons"}),e.jsx("p",{className:"text-3xl font-bold",children:s.length})]}),e.jsx(D,{className:"h-10 w-10 text-muted-foreground/50"})]})})}),e.jsx(f,{children:e.jsx(v,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:r})]}),e.jsx(H,{className:"h-10 w-10 text-green-200"})]})})}),e.jsx(f,{children:e.jsx(v,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Inactive"}),e.jsx("p",{className:"text-3xl font-bold text-gray-600",children:x})]}),e.jsx(U,{className:"h-10 w-10 text-gray-200"})]})})}),e.jsx(f,{children:e.jsx(v,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Errors"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:o})]}),e.jsx(T,{className:"h-10 w-10 text-red-200"})]})})})]})}function es(){const[s,r]=m.useState([]),[o,x]=m.useState(!0),[i,h]=m.useState(""),[g,d]=m.useState(null),[u,l]=m.useState(!1),[j,a]=m.useState(!1),[N,I]=m.useState(null),[C,S]=m.useState(null);m.useEffect(()=>{L()},[]);const L=async()=>{x(!0);try{await new Promise(n=>setTimeout(n,500)),r([{id:"jira-integration",name:"Jira Integration",version:"1.0.0",description:"Connect ComplianceOS with Jira to sync controls, findings, and remediation tasks",author:"ComplianceOS Team",category:"integration",status:"active",icon:"/icons/jira.svg",homepage:"https://complianceos.com/addons/jira",tags:["issue-tracking","remediation","automation"],permissions:["read:clients","write:clients","read:evidence","write:evidence"],configuration:{cloudId:"demo-cloud",defaultProject:"COMPLIANCE"}},{id:"soc2-policy-template",name:"SOC 2 Policy Template",version:"1.0.0",description:"Comprehensive SOC 2 compliance policy template covering all Trust Services Criteria",author:"ComplianceOS Team",category:"template",status:"active",homepage:"https://complianceos.com/templates/soc2",tags:["soc2","policy","security"],permissions:["read:policies","write:policies"]},{id:"s3-storage",name:"AWS S3 Storage",version:"1.0.0",description:"Store compliance evidence and documents in AWS S3 with encryption and versioning",author:"ComplianceOS Team",category:"storage",status:"inactive",homepage:"https://complianceos.com/addons/s3",tags:["aws","s3","storage","evidence"],permissions:["read:evidence","write:evidence"]},{id:"slack-integration",name:"Slack Integration",version:"0.9.0",description:"Receive compliance notifications and share reports directly in Slack channels",author:"Community Contributor",category:"notification",status:"pending",tags:["slack","notifications","chat"],permissions:["read:clients"]},{id:"azure-storage",name:"Azure Blob Storage",version:"1.0.0",description:"Store and manage compliance evidence in Microsoft Azure Blob Storage",author:"ComplianceOS Team",category:"storage",status:"error",error:"Connection timeout. Please check your credentials.",tags:["azure","storage","blob"],permissions:["read:evidence","write:evidence"]}])}finally{x(!1)}},F=t=>{d(t),l(!0)},W=async t=>{I(t);try{await new Promise(n=>setTimeout(n,1e3)),r(n=>n.map(c=>c.id===t?{...c,status:"active"}:c))}finally{I(null)}},Z=async t=>{r(n=>n.map(c=>c.id===t?{...c,status:"inactive"}:c))},q=async t=>{S(t)},J=async(t,n)=>{a(!0);try{await new Promise(c=>setTimeout(c,500)),r(c=>c.map(A=>A.id===t?{...A,configuration:n}:A)),l(!1)}finally{a(!1)}},Q=s.filter(t=>{var n;return t.name.toLowerCase().includes(i.toLowerCase())||t.description.toLowerCase().includes(i.toLowerCase())||((n=t.tags)==null?void 0:n.some(c=>c.toLowerCase().includes(i.toLowerCase())))});return e.jsx(ce,{children:e.jsxs("div",{className:"space-y-6 p-6 mx-auto w-full",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Addons Marketplace"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Extend ComplianceOS with integrations, templates, and storage providers"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{variant:"outline",onClick:L,disabled:o,children:[e.jsx($,{className:`h-4 w-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),e.jsxs(p,{children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Browse Addons"]})]})]}),e.jsx(Me,{addons:s}),e.jsxs(f,{children:[e.jsx(E,{children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx(P,{children:"Installed Addons"}),e.jsx(M,{children:"Manage your installed addons and their configurations"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(O,{placeholder:"Search addons...",value:i,onChange:t=>h(t.target.value),className:"pl-8 w-64"})]})})]})}),e.jsx(v,{children:e.jsx(Pe,{addons:Q,onConfigure:F,onActivate:W,onDeactivate:Z,onUninstall:q,isLoading:o})})]}),e.jsx(Ee,{addon:g,open:u,onOpenChange:l,onSave:J,isSaving:j,children:e.jsx("span",{})}),e.jsx(oe,{open:!!C,onOpenChange:t=>!t&&S(null),children:e.jsxs(de,{children:[e.jsxs(me,{children:[e.jsx(xe,{children:"Are you sure?"}),e.jsx(he,{children:"This will permanently uninstall this addon. This action cannot be undone."})]}),e.jsxs(ge,{children:[e.jsx(ue,{children:"Cancel"}),e.jsx(pe,{className:"bg-destructive hover:bg-destructive/90 text-destructive-foreground",onClick:()=>{C&&(r(t=>t.filter(n=>n.id!==C)),S(null))},children:"Uninstall"})]})]})})]})})}export{es as default};

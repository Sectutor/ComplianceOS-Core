import{ab as u,b as f,t as y,j as e,c as m,x as N,N as w,O as v,P as d,Q as i,V as C,W as o,F as A,k as x}from"./index-DOc7Nwb7.js";import{D as p}from"./DashboardLayout-aHnUqq57.js";import{P as h}from"./plus-BaQ35Jcx.js";import{A as D}from"./arrow-right-M96iV-v9.js";import{C as k}from"./circle-check-C5kiwRoG.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./target-cfAj3L6j.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-check-ETs8j4-d.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";function pe(){const r=u(),[l,t]=f(),a=Number(r.id),{data:b,isLoading:g,error:c}=y.gapAnalysis.list.useQuery({clientId:a}),n=(s=>s&&typeof s=="object"&&"json"in s&&Array.isArray(s.json)?s.json:s)(b)||[];return c?e.jsx(p,{children:e.jsxs("div",{className:"p-8 text-red-500",children:["Error loading assessments: ",c.message]})}):e.jsx(p,{children:e.jsxs("div",{className:"space-y-6 w-full max-w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Gap Analysis"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Assess your compliance posture against major frameworks."})]}),e.jsxs(m,{onClick:()=>t(`/clients/${a}/gap-analysis/new`),className:"bg-primary hover:bg-primary/90",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"New Analysis"]})]}),g?e.jsx("div",{className:"flex justify-center p-12",children:e.jsx(N,{className:"w-8 h-8 animate-spin text-primary"})}):e.jsx("div",{className:"space-y-6",children:n&&n.length>0?e.jsx("div",{className:"rounded-xl border border-slate-200 shadow-lg overflow-hidden bg-white",children:e.jsxs(w,{children:[e.jsx(v,{children:e.jsxs(d,{className:"bg-[#1C4D8D] hover:bg-[#1C4D8D] border-none",children:[e.jsx(i,{className:"text-white font-semibold py-4",children:"Assessment Name"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Framework"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Status"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Created Date"}),e.jsx(i,{className:"text-right text-white font-semibold py-4",children:"Action"})]})}),e.jsx(C,{children:n.map(s=>e.jsxs(d,{className:"bg-white border-b border-slate-200 cursor-pointer transition-all duration-200 hover:bg-slate-50 hover:shadow-sm group",onClick:()=>t(`/clients/${a}/gap-analysis/${s.id}`),children:[e.jsx(o,{className:"font-medium py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-black",children:[e.jsx(A,{className:"w-4 h-4 text-blue-500"}),s.name]})}),e.jsx(o,{className:"py-4",children:e.jsx(x,{variant:"outline",className:"bg-white border-gray-300 text-gray-700",children:s.framework})}),e.jsx(o,{className:"py-4",children:e.jsx(L,{status:s.status})}),e.jsx(o,{className:"text-gray-500 py-4",children:new Date(s.createdAt).toLocaleDateString()}),e.jsx(o,{className:"text-right py-4",children:e.jsxs(m,{variant:"ghost",size:"sm",className:"hover:bg-[#1C4D8D]/10 hover:text-[#1C4D8D] transition-colors duration-200",onClick:j=>{j.stopPropagation(),t(`/clients/${a}/gap-analysis/${s.id}`)},children:["Open ",e.jsx(D,{className:"w-4 h-4 ml-1"})]})})]},s.id))})]})}):e.jsx(T,{onCreate:()=>t(`/clients/${a}/gap-analysis/new`)})})]})})}function L({status:r}){if(!r)return null;const l={draft:"bg-slate-100 text-slate-700 hover:bg-slate-200 border-slate-200",in_progress:"bg-blue-50 text-blue-700 hover:bg-blue-100 border-blue-200",completed:"bg-green-50 text-green-700 hover:bg-green-100 border-green-200"},t={draft:"Draft",in_progress:"In Progress",completed:"Completed"};return e.jsx(x,{className:`${l[r]||l.draft} font-normal border shadow-sm`,children:t[r]||r})}function T({onCreate:r}){return e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4 text-center border-2 border-dashed rounded-lg bg-slate-50/50",children:[e.jsx("div",{className:"bg-primary/10 p-4 rounded-full mb-4",children:e.jsx(k,{className:"w-8 h-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Gap Analyses Yet"}),e.jsx("p",{className:"text-muted-foreground max-w-sm mb-6",children:"Start your first assessment to identify compliance gaps and build a remediation plan."}),e.jsxs(m,{onClick:r,children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Start First Assessment"]})]})}export{pe as default};

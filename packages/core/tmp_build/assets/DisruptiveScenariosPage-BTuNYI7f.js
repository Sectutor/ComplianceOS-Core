import{ab as p,b as u,t as o,i as x,j as e,c as r,C as h,d as g,e as j,T as n,k as b,m as f}from"./index-DOc7Nwb7.js";import{B as N}from"./Breadcrumb-CRi3LAxS.js";import{D as v}from"./DashboardLayout-aHnUqq57.js";import{A as y}from"./arrow-left-CpuUojG-.js";import{P as C}from"./plus-BaQ35Jcx.js";import{P as w}from"./pencil-Bud7U1sU.js";import{T as k}from"./trash-2-CFEfisbM.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./circle-check-C5kiwRoG.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./target-cfAj3L6j.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-check-ETs8j4-d.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";function de(){const l=p(),t=parseInt(l.id||"0"),[S,a]=u(),{data:i,refetch:c}=o.businessContinuity.scenarios.list.useQuery({clientId:t}),m=o.businessContinuity.scenarios.delete.useMutation({onSuccess:()=>{x.success("Scenario deleted"),c()}});return e.jsx(v,{children:e.jsxs("div",{className:"space-y-6 max-w-[1600px] mx-auto p-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(N,{items:[{label:"Clients",href:"/clients"},{label:"Business Continuity",href:`/clients/${t}/business-continuity`},{label:"Scenarios",href:`/clients/${t}/business-continuity/scenarios`}]}),e.jsxs(r,{variant:"ghost",size:"sm",className:"mt-2 -ml-3 text-muted-foreground hover:text-foreground",onClick:()=>a(`/clients/${t}/business-continuity`),children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Back to BC Dashboard"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Disruptive Scenarios"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Identify and plan for potential business disruptions."})]}),e.jsxs(r,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>a(`/clients/${t}/business-continuity/scenarios/new`),children:[e.jsx(C,{className:"mr-2 h-4 w-4"})," New Scenario"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i==null?void 0:i.map(s=>e.jsxs(h,{className:"hover:shadow-md transition-shadow group relative",children:[e.jsx(g,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs(j,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-amber-500"}),s.title]}),e.jsx(b,{variant:s.likelihood==="high"?"destructive":s.likelihood==="medium"?"default":"outline",children:s.likelihood})]})}),e.jsxs(f,{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:s.description})}),s.mitigationStrategies&&e.jsxs("div",{className:"bg-slate-50 p-3 rounded text-xs text-muted-foreground border",children:[e.jsx("strong",{children:"Mitigation:"})," ",s.mitigationStrategies]}),e.jsxs("div",{className:"pt-2 flex justify-end gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>a(`/clients/${t}/business-continuity/scenarios/${s.id}`),children:[e.jsx(w,{className:"w-3 h-3 mr-1"})," Edit"]}),e.jsxs(r,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-700 hover:bg-red-50",onClick:d=>{d.stopPropagation(),confirm("Delete this scenario?")&&m.mutate({id:s.id})},children:[e.jsx(k,{className:"w-3 h-3 mr-1"})," Delete"]})]})]})]},s.id)),(i==null?void 0:i.length)===0&&e.jsxs("div",{className:"col-span-full text-center py-12 text-muted-foreground border-2 border-dashed rounded-lg bg-slate-50",children:[e.jsx(n,{className:"w-12 h-12 mx-auto mb-4 text-slate-300"}),e.jsx("h3",{className:"text-lg font-medium mb-1",children:"No Scenarios Defined"}),e.jsx("p",{className:"mb-4",children:"Create your first disruptive scenario to start planning."}),e.jsx(r,{variant:"outline",onClick:()=>a(`/clients/${t}/business-continuity/scenarios/new`),children:"Create Scenario"})]})]})]})})}export{de as default};

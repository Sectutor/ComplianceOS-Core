import{ab as P,r as u,b as k,t as p,R as S,i as g,j as e,aq as L,c as l,I,C as f,d as E,k as G,e as T,f as $,m as U,x as V}from"./index-DOc7Nwb7.js";import{P as A}from"./PageGuide-CPKKXXS6.js";import{B}from"./Breadcrumb-CRi3LAxS.js";import{A as D}from"./arrow-left-CpuUojG-.js";import{S as b}from"./search-CwuIBBPE.js";import{G as j}from"./globe-BMGZmoaJ.js";import{S as R}from"./shield-check-ETs8j4-d.js";import{E as M}from"./external-link-C3PXjBR9.js";import{P as Z}from"./plus-BaQ35Jcx.js";import{Z as F}from"./zap-B01fFOkT.js";import"./scroll-area-DPaNxEJD.js";import"./separator-BWuYil37.js";import"./book-open-BffBrdze.js";import"./link-FmUqdGRG.js";import"./info-By5wLOUH.js";function re(){const{id:N}=P(),t=parseInt(N||"0"),[o,w]=u.useState(""),[,v]=k(),n=12,[d,c]=u.useState(0),{data:a,isLoading:m,isPreviousData:y}=p.globalVendors.list.useQuery({search:o,limit:n,offset:d*n},{keepPreviousData:!0});S.useEffect(()=>{c(0)},[o]);const r=p.globalVendors.import.useMutation({onSuccess:s=>{g.success(`Successfully imported ${s.name}`),v(`/clients/${t}/vendors/${s.id}`)},onError:s=>{g.error(`Failed to import: ${s.message}`)}}),C=s=>{r.mutate({clientId:t,globalVendorId:s})};return e.jsxs("div",{className:"p-6 space-y-6 page-transition",children:[e.jsx(B,{items:[{label:"Vendors",href:`/clients/${t}/vendors/all`},{label:"Global Catalog",active:!0}]}),e.jsxs("div",{className:"flex justify-between items-end animate-slide-down",children:[e.jsx(A,{title:"Global Vendor Catalog",description:"Discover and add vendors from our community-driven database.",rationale:"Leverage shared intelligence to accelerate vendor onboarding and risk assessment.",howToUse:[{step:"Search",description:"Find vendors by name, domain, or category."},{step:"Verify",description:"Check trust scores and existing certifications."},{step:"Import",description:"Add verified vendors to your ecosystem."}]}),e.jsx(L,{href:`/clients/${t}/vendors/all`,children:e.jsxs(l,{variant:"ghost",className:"text-slate-500 hover:text-slate-900",children:[e.jsx(D,{className:"w-4 h-4 mr-2"})," Back to List"]})})]}),e.jsxs("div",{className:"relative max-w-md animate-slide-up",children:[e.jsx(b,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(I,{placeholder:"Search 500+ vendors by name or domain...",className:"pl-10 h-11 bg-white border-slate-200 focus:ring-2 focus:ring-indigo-500 transition-all rounded-xl",value:o,onChange:s=>w(s.target.value)})]}),m?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pt-4",children:[1,2,3,4,5,6].map(s=>e.jsx(f,{className:"animate-pulse bg-slate-50 h-48 border-none"},s))}):e.jsxs("div",{className:"space-y-8 animate-slide-up",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a==null?void 0:a.map(s=>{var x;return e.jsxs(f,{className:"group hover:shadow-xl hover:-translate-y-1 transition-all duration-300 border-slate-200 overflow-hidden bg-white/50 backdrop-blur-sm",children:[e.jsxs(E,{className:"pb-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-100 flex items-center justify-center overflow-hidden border border-slate-200 group-hover:border-indigo-200 transition-colors",children:s.faviconUrl?e.jsx("img",{src:s.faviconUrl,alt:s.name,className:"w-8 h-8 object-contain"}):e.jsx(j,{className:"w-6 h-6 text-slate-400"})}),s.platform&&e.jsx(G,{variant:"outline",className:"bg-indigo-50/50 text-indigo-700 border-indigo-100 font-medium",children:s.platform})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(T,{className:"text-xl group-hover:text-indigo-600 transition-colors",children:s.name}),e.jsxs($,{className:"flex items-center gap-1.5 mt-1 font-medium text-slate-500",children:[e.jsx(j,{className:"w-3.5 h-3.5"}),(()=>{var i;try{const h=(i=s.website)!=null&&i.startsWith("http")?s.website:`https://${s.website}`;return new URL(h).hostname}catch{return s.website||"No website"}})()]})]})]}),e.jsx(U,{children:e.jsxs("div",{className:"space-y-4",children:[s.trustCenterUrl&&e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 bg-emerald-50/50 p-2.5 rounded-lg border border-emerald-100/50",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-semibold",children:"Verified Trust Center"}),e.jsx("a",{href:s.trustCenterUrl,target:"_blank",rel:"noreferrer",className:"ml-auto hover:scale-110 transition-transform",onClick:i=>i.stopPropagation(),children:e.jsx(M,{className:"w-4 h-4"})})]}),e.jsxs(l,{className:"w-full bg-slate-900 hover:bg-indigo-600 text-white shadow-lg shadow-slate-200 group-hover:shadow-indigo-100 transition-all rounded-xl py-6",onClick:()=>C(s.id),disabled:r.isPending,children:[r.isPending&&((x=r.variables)==null?void 0:x.globalVendorId)===s.id?e.jsx(V,{className:"w-4 h-4 animate-spin mr-2"}):e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Add to Organization"]})]})})]},s.id)})}),(a==null?void 0:a.length)===0&&e.jsxs("div",{className:"col-span-full py-20 text-center bg-slate-50 rounded-2xl border-2 border-dashed border-slate-200",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-sm",children:e.jsx(b,{className:"w-8 h-8 text-slate-300"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"No vendors found"}),e.jsx("p",{className:"text-slate-500 mt-1 max-w-xs mx-auto",children:"Try searching for a different name or browse our community database later."})]}),a&&a.length>0&&e.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[e.jsx(l,{variant:"outline",onClick:()=>c(s=>Math.max(0,s-1)),disabled:d===0||m,children:"Previous"}),e.jsxs("span",{className:"flex items-center text-sm font-medium text-slate-500",children:["Page ",d+1]}),e.jsx(l,{variant:"outline",onClick:()=>c(s=>s+1),disabled:a.length<n||m||y,children:"Next"})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 pt-8 text-slate-400 text-sm font-medium",children:[e.jsx(F,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{children:"Powered by TrustLists Open Source Database"})]})]})}export{re as default};

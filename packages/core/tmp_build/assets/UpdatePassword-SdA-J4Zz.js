import{r as t,b as w,ax as c,j as s,S as f,C as j,d as g,e as N,f as y,m as b,L as i,I as m,c as C,x as P,i as d}from"./index-DOc7Nwb7.js";function S(){const[a,u]=t.useState(""),[o,p]=t.useState(""),[n,l]=t.useState(!1),[,h]=w();t.useEffect(()=>{c.auth.getSession().then(({data:{session:e}})=>{})},[]);const x=async e=>{if(e.preventDefault(),a!==o){d.error("Passwords do not match");return}if(a.length<6){d.error("Password must be at least 6 characters");return}l(!0);try{const{error:r}=await c.auth.updateUser({password:a});if(r)throw r;d.success("Password updated successfully!"),h("/login")}catch(r){d.error(r.message||"Failed to update password")}finally{l(!1)}};return s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-muted/40 p-4",children:[s.jsxs("div",{className:"mb-8 flex items-center gap-2",children:[s.jsx(f,{className:"h-8 w-8 text-primary"}),s.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Compliance OS"})]}),s.jsxs(j,{className:"w-full max-w-md shadow-lg border-muted/60",children:[s.jsxs(g,{className:"space-y-1",children:[s.jsx(N,{className:"text-2xl font-bold",children:"Set New Password"}),s.jsx(y,{children:"Enter your new password below."})]}),s.jsx(b,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"password",children:"New Password"}),s.jsx(m,{id:"password",type:"password",value:a,onChange:e=>u(e.target.value),required:!0,className:"pl-8 relative"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(i,{htmlFor:"confirmPassword",children:"Confirm Password"}),s.jsx(m,{id:"confirmPassword",type:"password",value:o,onChange:e=>p(e.target.value),required:!0})]}),s.jsx(C,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(P,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):"Update Password"})]})})]})]})}export{S as default};

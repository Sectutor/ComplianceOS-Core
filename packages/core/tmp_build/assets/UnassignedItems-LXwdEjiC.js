import{M as w,ab as y,t as m,j as e,x as C,aq as c,c as o,C as n,m as t,d as x,e as h,f as p,k as j}from"./index-DOc7Nwb7.js";import{D as g}from"./DashboardLayout-aHnUqq57.js";import{B as I}from"./Breadcrumb-CRi3LAxS.js";import{T,a as A,b as u,c as f}from"./tabs-CBDTXbEn.js";import{A as L}from"./arrow-left-CpuUojG-.js";import{S as R}from"./shield-alert-iAruRy4W.js";import{A as N}from"./arrow-right-M96iV-v9.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./circle-check-C5kiwRoG.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./target-cfAj3L6j.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-check-ETs8j4-d.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=w("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function pe(){const{id:v}=y(),i=parseInt(v||"0",10),{data:a,isLoading:b}=m.employees.getRACIGapAnalysis.useQuery({clientId:i},{enabled:i>0}),{data:d}=m.clients.get.useQuery({id:i},{enabled:i>0});if(b)return e.jsx(g,{children:e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsx(C,{className:"w-8 h-8 animate-spin text-blue-600"})})});const r=(a==null?void 0:a.unassignedPolicies)||[],l=(a==null?void 0:a.unassignedControls)||[];return e.jsx(g,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{items:[{label:"Clients",href:"/clients"},{label:(d==null?void 0:d.name)||"Client",href:`/clients/${i}`},{label:"RACI Matrix",href:`/clients/${i}/raci-matrix`},{label:"Unassigned Items"}]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{href:`/clients/${i}/raci-matrix`,children:e.jsx(o,{variant:"ghost",size:"icon",children:e.jsx(L,{className:"w-4 h-4"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Unassigned Items"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Review and assign ownership to close compliance gaps"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(n,{className:"bg-orange-50 border-orange-200",children:e.jsxs(t,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-orange-100 rounded-full text-orange-600",children:e.jsx(P,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-900",children:r.length}),e.jsx("div",{className:"text-orange-700 font-medium",children:"Unassigned Policies"})]})]})}),e.jsx(n,{className:"bg-yellow-50 border-yellow-200",children:e.jsxs(t,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-yellow-100 rounded-full text-yellow-600",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-900",children:l.length}),e.jsx("div",{className:"text-yellow-700 font-medium",children:"Unassigned Controls"})]})]})})]}),e.jsxs(T,{defaultValue:"policies",className:"w-full",children:[e.jsxs(A,{children:[e.jsxs(u,{value:"policies",children:["Policies (",r.length,")"]}),e.jsxs(u,{value:"controls",children:["Controls (",l.length,")"]})]}),e.jsx(f,{value:"policies",className:"mt-4",children:e.jsxs(n,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Unassigned Policies"}),e.jsx(p,{children:"These policies lack assigned Accountable or Responsible roles."})]}),e.jsx(t,{children:r.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No unassigned policies found. Good job!"}):e.jsx("div",{className:"space-y-2",children:r.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{variant:"outline",children:"POLICY"}),e.jsx("div",{className:"font-medium",children:s.name})]}),e.jsx(o,{asChild:!0,size:"sm",variant:"outline",className:"gap-2",children:e.jsxs(c,{href:`/clients/${i}/policies/${s.id}?from=raci-unassigned`,children:["Assign RACI ",e.jsx(N,{className:"w-4 h-4"})]})})]},s.id))})})]})}),e.jsx(f,{value:"controls",className:"mt-4",children:e.jsxs(n,{children:[e.jsxs(x,{children:[e.jsx(h,{children:"Unassigned Controls"}),e.jsx(p,{children:"These controls have no assigned owner."})]}),e.jsx(t,{children:l.length===0?e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No unassigned controls found. Good job!"}):e.jsx("div",{className:"space-y-2",children:l.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{variant:"outline",children:"CONTROL"}),e.jsxs("div",{className:"font-medium",children:[s.name,(s.title||s.description)&&e.jsxs("span",{className:"ml-2 text-gray-500 font-normal",children:["- ",s.title||s.description]})]})]}),e.jsx(o,{asChild:!0,size:"sm",variant:"outline",className:"gap-2",children:e.jsxs(c,{href:`/clients/${i}/controls`,children:["Assign Owner ",e.jsx(N,{className:"w-4 h-4"})]})})]},s.id))})})]})})]})]})})}export{pe as default};

import{M as L,ab as z,b as P,r as $,R as F,j as e,c as l,aq as T,k as h,n as A,C as p,d as b,e as g,m as f,f as E,aa as D,F as W,z as O}from"./index-DOc7Nwb7.js";import{D as w}from"./DashboardLayout-aHnUqq57.js";import{c as x}from"./utils-BC5CVi_C.js";import{W as B}from"./rmf-step-data-D6lmqcp9.js";import{A as v}from"./arrow-left-CpuUojG-.js";import{L as k}from"./layers-ZuBPQb1T.js";import{C as y}from"./circle-check-C5kiwRoG.js";import{A as C}from"./arrow-right-M96iV-v9.js";import{E as M}from"./external-link-C3PXjBR9.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./target-cfAj3L6j.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-check-ETs8j4-d.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=L("Disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function Ie(){const u=z(),[,j]=P(),c=Number(u.id),d=u.workflowId||"",r=B[d],[t,m]=$.useState(()=>{try{const s=localStorage.getItem(`workflow-progress-${c}-${d}`);return s?parseInt(s,10):0}catch{return 0}});if(F.useEffect(()=>{try{localStorage.setItem(`workflow-progress-${c}-${d}`,t.toString())}catch(s){console.error("Failed to save progress",s)}},[t,c,d]),!r)return e.jsx(w,{children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Workflow not found"}),e.jsx(l,{className:"mt-4",onClick:()=>j(`/clients/${c}/workflows`),children:"Return to Hub"})]})});const a=r.steps[t],o=r.steps.length,S=(t+1)/o*100,N=()=>{t<o-1&&(m(s=>s+1),window.scrollTo({top:0,behavior:"smooth"}))},R=()=>{t>0&&(m(s=>s-1),window.scrollTo({top:0,behavior:"smooth"}))};return e.jsx(w,{children:e.jsxs("div",{className:"flex flex-col h-full -m-4 md:-m-6 bg-slate-50/50",children:[e.jsxs("header",{className:"bg-white border-b border-slate-200 h-20 flex items-center px-8 justify-between shrink-0 sticky top-0 z-50 backdrop-blur-md bg-white/90",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(T,{href:`/clients/${c}/workflows`,children:e.jsx(l,{variant:"ghost",size:"icon",className:"rounded-full hover:bg-slate-100 transition-colors",children:e.jsx(v,{className:"h-5 w-5 text-slate-500"})})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:"outline",className:"text-[10px] font-bold uppercase tracking-widest text-blue-600 bg-blue-50 border-blue-100",children:"Playbook Engine"}),e.jsx("h1",{className:"text-xl font-black text-slate-900 tracking-tight leading-none",children:r.title})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5 ",children:[e.jsx("div",{className:"h-1.5 w-32 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 transition-all duration-500",style:{width:`${S}%`}})}),e.jsxs("span",{className:"text-xs font-bold text-slate-500",children:["Step ",t+1," of ",o]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l,{variant:"outline",className:"border-slate-200 font-bold hover:bg-slate-50",children:"Save Progress"}),e.jsx(l,{className:"bg-blue-600 hover:bg-blue-700 font-bold shadow-lg shadow-blue-100",children:"Complete Phase"})]})]}),e.jsxs("div",{className:"flex flex-1 min-h-[calc(100vh-5rem-4rem)]",children:[e.jsx("aside",{className:"w-80 bg-white border-r border-slate-200 p-6 hidden lg:block shrink-0 sticky top-20 h-[calc(100vh-5rem)] overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-slate-400",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em]",children:"Lifecycle Stages"})]}),e.jsx("nav",{className:"space-y-1",children:r.steps.map((s,i)=>{const n=i===t,I=i<t;return e.jsxs("button",{onClick:()=>m(i),className:x("w-full flex items-start gap-4 px-4 py-4 rounded-xl text-left transition-all duration-200 group",n?"bg-blue-600 text-white shadow-xl shadow-blue-100":"text-slate-500 hover:bg-slate-50"),children:[e.jsx("div",{className:"mt-0.5",children:I?e.jsx(y,{className:x("h-5 w-5",n?"text-white":"text-emerald-500")}):n?e.jsx(q,{className:"h-5 w-5 text-white animate-pulse"}):e.jsx(A,{className:"h-5 w-5 text-slate-200 group-hover:text-slate-300"})}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:x("text-sm font-bold",n?"text-white":"text-slate-900"),children:s.title}),e.jsx("span",{className:x("text-[10px] leading-relaxed line-clamp-1",n?"text-blue-100":"text-slate-400"),children:s.description})]})]},s.id)})})]})}),e.jsx("main",{className:"flex-1 p-8 lg:p-12 overflow-y-auto bg-[url('/grid.svg')]",children:e.jsxs("div",{className:"max-w-4xl mx-auto space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-2xl bg-slate-900 text-white flex items-center justify-center font-black text-xl shadow-lg",children:t+1}),e.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tight",children:a.title})]}),e.jsx("p",{className:"text-xl text-slate-500 font-medium leading-relaxed max-w-3xl",children:a.longDescription})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-6",children:[e.jsxs(p,{className:"border-slate-200 shadow-xl shadow-slate-200/50 overflow-hidden ring-1 ring-slate-200",children:[e.jsx(b,{className:"bg-slate-50 border-b py-4",children:e.jsxs(g,{className:"text-sm font-bold uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4 text-emerald-500"}),"Step Objectives & Education"]})}),e.jsx(f,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-100",children:a.tasks.map((s,i)=>e.jsxs("div",{className:"flex items-start gap-4 p-6 hover:bg-slate-50/50 transition-all group",children:[e.jsx("div",{className:"mt-1 flex-shrink-0",children:e.jsx("input",{type:"checkbox",className:"h-5 w-5 rounded-md border-slate-300 text-blue-600 focus:ring-blue-600 transition-all cursor-pointer shadow-sm"})}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("span",{className:"text-base font-black text-slate-900 leading-none group-hover:text-blue-600 transition-colors uppercase tracking-tight",children:s.title}),e.jsx("span",{className:"text-xs font-medium text-slate-500 leading-relaxed italic",children:s.description})]})]},i))})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-900 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:rotate-12 transition-transform",children:e.jsx(k,{size:120})}),e.jsxs("div",{className:"relative z-10 space-y-4",children:[e.jsx(h,{className:"bg-primary hover:bg-primary text-primary-foreground border-none text-[10px] font-black tracking-widest uppercase",children:"What's Next?"}),t<o-1?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-2xl font-black tracking-tight",children:r.steps[t+1].title}),e.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:r.steps[t+1].description}),e.jsxs(l,{variant:"secondary",className:"w-full mt-4 font-black rounded-xl h-12 bg-white text-slate-900 hover:bg-slate-100",onClick:N,children:["Preview Next Stage",e.jsx(C,{className:"ml-2 h-4 w-4"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Certification Ready"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium leading-relaxed",children:"You are at the final stage. Review your artifacts and prepare for authorization."})]})]})]}),a.link&&e.jsxs(p,{className:"border-blue-100 bg-blue-50/30 overflow-hidden group/card hover:border-blue-300 transition-all cursor-pointer",onClick:()=>j(`/clients/${c}${a.link}`),children:[e.jsxs(b,{className:"pb-2",children:[e.jsx("div",{className:"h-10 w-10 text-blue-600 mb-2",children:e.jsx(M,{size:24})}),e.jsx(g,{className:"text-lg font-bold text-blue-900",children:"Recommended Tool"}),e.jsx(E,{className:"text-blue-700/70 font-medium",children:"This phase is supported by the following integrated module."})]}),e.jsx(f,{className:"pt-2",children:e.jsxs(l,{variant:"link",className:"p-0 text-blue-600 font-black h-auto gap-2 group-hover/card:translate-x-1 transition-transform",children:[a.linkLabel,e.jsx(D,{className:"h-4 w-4"})]})})]}),a.artifacts&&e.jsxs(p,{className:"border-slate-200 shadow-sm",children:[e.jsx(b,{className:"py-4",children:e.jsxs(g,{className:"text-sm font-bold uppercase tracking-widest text-slate-500 flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4"}),"Required Artifacts"]})}),e.jsx(f,{className:"space-y-3",children:a.artifacts.map((s,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl border bg-white border-slate-100 hover:border-slate-300 transition-all",children:[e.jsx("span",{className:"text-xs font-bold text-slate-700",children:s}),e.jsx(h,{variant:"secondary",className:"text-[9px] font-black tracking-tighter opacity-70",children:"MISSING"})]},i))})]}),e.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-5 rounded-2xl space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:"Compliance Tip"})]}),e.jsx("p",{className:"text-xs font-medium text-amber-800 leading-relaxed italic",children:'"Remember that NIST RMF is iterative. Outputs from this step will be critical inputs for the upcoming security assessments."'})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-12 border-t border-slate-200 pb-20",children:[e.jsxs(l,{variant:"outline",size:"lg",onClick:R,disabled:t===0,className:"h-14 px-8 border-slate-200 font-bold gap-2 text-slate-500 rounded-2xl",children:[e.jsx(v,{className:"h-5 w-5"})," Previous Phase"]}),e.jsxs(l,{size:"lg",onClick:N,className:"h-14 px-10 bg-slate-900 hover:bg-black text-white font-bold gap-2 rounded-2xl shadow-2xl transition-all active:scale-95",children:[t===o-1?"Finish Journey":"Next Phase",e.jsx(C,{className:"h-5 w-5"})]})]})]})})]})]})})}export{Ie as default};

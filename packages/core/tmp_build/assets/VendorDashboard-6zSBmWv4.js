import{ab as b,t as f,j as e,x as u,C as a,m as t,aq as h,c as w,d as o,e as d,f as c,h as N,z as k,k as y}from"./index-DOc7Nwb7.js";import{B as C}from"./Breadcrumb-CRi3LAxS.js";import{P as R}from"./PageGuide-CPKKXXS6.js";import{B as p}from"./book-open-BffBrdze.js";import{A as g}from"./arrow-right-M96iV-v9.js";import{G as j}from"./globe-BMGZmoaJ.js";import{S as A}from"./search-CwuIBBPE.js";import{S}from"./shield-alert-iAruRy4W.js";import{F as B}from"./file-check-De1wUTh7.js";import{A as V}from"./activity-B1F2IRm3.js";import{C as P}from"./circle-check-big-BSqJVrgh.js";import{R as $,l as M,T as D,k as G}from"./generateCategoricalChart-KNLgM3hn.js";import{P as L,a as T}from"./PieChart-Lpe3cWE7.js";import"./scroll-area-DPaNxEJD.js";import"./separator-BWuYil37.js";import"./link-FmUqdGRG.js";import"./info-By5wLOUH.js";import"./isEqual-D_xcZLCn.js";import"./PolarAngleAxis-BO8F-h7c.js";function re(){const{id:m}=b(),r=parseInt(m||"0"),{data:i,isLoading:v}=f.vendors.getStats.useQuery({clientId:r});if(v)return e.jsx("div",{className:"flex justify-center p-12",children:e.jsx(u,{className:"animate-spin"})});const x=i!=null&&i.riskBreakdown?Object.entries(i.riskBreakdown).map(([s,l])=>({name:s,value:l})):[],n=["#10b981","#f59e0b","#ef4444","#94a3b8"];return e.jsxs("div",{className:"space-y-6 page-transition",children:[e.jsx(C,{items:[{label:"Vendors",href:`/clients/${m}/vendors/overview`},{label:"Dashboard"}]}),e.jsx("div",{className:"animate-slide-down",children:e.jsx(R,{title:"Vendor Risk Management",description:"Overview of vendor ecosystem and risk posture.",rationale:"Monitor vendor compliance and security posture to mitigate supply chain risks.",howToUse:[{step:"Distribution",description:"View vendors by criticality (High, Medium, Low)."},{step:"Discovery",description:"Find and onboard new vendors."},{step:"Reviews",description:"Track active security assessments."}]})}),e.jsx(a,{className:"bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-100 mb-6 animate-fade-in",children:e.jsxs(t,{className:"p-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"p-3 bg-emerald-100 rounded-xl hidden sm:block",children:e.jsx(p,{className:"w-8 h-8 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-emerald-900 text-lg",children:"Vendor Risk Management Program Guide"}),e.jsx("p",{className:"text-emerald-700/80 max-w-2xl",children:"Learn how to establish a compliant TPRM program, categorize vendors, and manage lifecycle risks effectively."})]})]}),e.jsx(h,{href:`/clients/${r}/vendors/overview-guide`,children:e.jsxs(w,{className:"bg-emerald-600 hover:bg-emerald-700 text-white font-semibold whitespace-nowrap",children:["View Program Guide ",e.jsx(g,{className:"w-4 h-4 ml-2"})]})})]})}),e.jsxs(a,{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white border-none shadow-lg overflow-hidden relative mb-6 animate-fade-in delay-200",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-purple-500/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),e.jsxs(o,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-6 h-6 text-purple-400"}),"Getting Started with Vendor Risks"]}),e.jsx(c,{className:"text-slate-300",children:"Manage vendor lifecycle from discovery to termination."})]}),e.jsx(t,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-6 left-10 right-10 h-0.5 bg-slate-700 -z-10"}),[{step:"1. Discover",title:"Add Vendors",desc:"Import or discover new vendors.",link:`/clients/${r}/vendors/discovery`,icon:A,color:"text-blue-400",bg:"bg-blue-900/50"},{step:"2. Profile",title:"Categorize",desc:"Set criticality and tiering.",link:`/clients/${r}/vendors/all`,icon:N,color:"text-amber-400",bg:"bg-amber-900/50"},{step:"3. Assess",title:"Security Review",desc:"Send questionnaires (SIG/CAIQ).",link:`/clients/${r}/vendors/reviews`,icon:S,color:"text-red-400",bg:"bg-red-900/50"},{step:"4. Analyze",title:"Risk Analysis",desc:"Review findings and gaps.",link:`/clients/${r}/vendors/reviews`,icon:B,color:"text-purple-400",bg:"bg-purple-900/50"},{step:"5. Monitor",title:"Continuous",desc:"Track performance and renewal.",link:`/clients/${r}/vendors/overview`,icon:V,color:"text-emerald-400",bg:"bg-emerald-900/50"}].map((s,l)=>e.jsx(h,{href:s.link,children:e.jsxs("div",{className:"group relative flex flex-col items-center text-center p-4 rounded-xl hover:bg-white/10 transition-colors cursor-pointer h-full border border-transparent hover:border-white/10",children:[e.jsx("div",{className:`w-12 h-12 rounded-full ${s.bg} flex items-center justify-center mb-3 shadow-lg group-hover:scale-110 transition-transform`,children:e.jsx(s.icon,{className:`w-6 h-6 ${s.color}`})}),e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:s.step}),e.jsx("div",{className:"font-semibold mb-1 text-white",children:s.title}),e.jsx("div",{className:"text-xs text-slate-400 leading-snug",children:s.desc})]})},l))]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx(a,{children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg",children:e.jsx(P,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Total Vendors"}),e.jsx("h3",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalVendors)||0})]})]})})}),e.jsx(a,{children:e.jsx(t,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 bg-rose-100 text-rose-600 rounded-lg",children:e.jsx(k,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Critical Risk"}),e.jsx("h3",{className:"text-2xl font-bold",children:(i==null?void 0:i.riskBreakdown.High)||0})]})]})})}),e.jsx("div",{className:"p-4 rounded-xl border border-indigo-200 bg-white shadow-sm flex flex-col justify-between cursor-pointer hover:border-indigo-400 hover:shadow-md transition-all group",onClick:()=>window.location.href=`/clients/${r}/vendors/alignment-guide`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-bold text-slate-900",children:"ISO 27001"}),e.jsx(y,{variant:"secondary",className:"text-[10px] px-1.5 h-5 bg-indigo-100 text-indigo-700 pointer-events-none",children:"GUIDE"})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-2 font-medium group-hover:text-indigo-600 transition-colors",children:[e.jsx("span",{children:"View alignment"}),e.jsx(g,{className:"w-3 h-3 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx("div",{className:"p-2 rounded-lg bg-indigo-50 text-indigo-600 group-hover:bg-indigo-100 transition-colors",children:e.jsx(p,{className:"w-5 h-5"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(a,{className:"h-[400px]",children:[e.jsxs(o,{children:[e.jsx(d,{children:"Distribution by Criticality"}),e.jsx(c,{children:"Breakdown of vendors by assigned risk level"})]}),e.jsx(t,{className:"h-[320px]",children:e.jsx($,{width:"100%",height:"100%",children:e.jsxs(L,{children:[e.jsx(T,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,fill:"#8884d8",paddingAngle:5,dataKey:"value",children:x.map((s,l)=>e.jsx(M,{fill:s.name==="High"?n[2]:s.name==="Medium"?n[1]:s.name==="Low"?n[0]:n[3]},`cell-${l}`))}),e.jsx(D,{}),e.jsx(G,{verticalAlign:"bottom",height:36})]})})})]}),e.jsxs(a,{className:"h-[400px]",children:[e.jsxs(o,{children:[e.jsx(d,{children:"Vendor Ecosystem"}),e.jsx(c,{children:"Geographic distribution (Mock)"})]}),e.jsx(t,{className:"flex items-center justify-center h-[320px] bg-slate-50 rounded-md border border-dashed",children:e.jsxs("div",{className:"text-center text-slate-400",children:[e.jsx(j,{className:"w-16 h-16 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Map visualization coming soon."}),e.jsx("p",{className:"text-xs",children:"Locations: US, EU, APAC"})]})})]})]})]})}export{re as default};

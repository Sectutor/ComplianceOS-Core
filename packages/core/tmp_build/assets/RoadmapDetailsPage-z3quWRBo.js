import{t as z,j as e,x as I,k as l,c as R,C as m,d as o,e as x,m as p,h as E,T as B,f as O,S as w,ab as F,aq as G,ar as M}from"./index-DOc7Nwb7.js";import{m as k,D as T,L as V}from"./DashboardLayout-aHnUqq57.js";import{E as $}from"./ExecutionDashboard-DtUWsRqn.js";import{T as S}from"./target-cfAj3L6j.js";import{C as H}from"./calendar-BlLJlGbj.js";import{C as U}from"./clock-osbacZli.js";import{T as q}from"./trending-up-eUiO956o.js";import{S as J}from"./scale-BCebIfgE.js";import{f as K}from"./format-H2tx8_vS.js";import{T as Q,a as W,b as C,c as D}from"./tabs-CBDTXbEn.js";import{P as _}from"./PageGuide-CPKKXXS6.js";import{A as X}from"./arrow-left-CpuUojG-.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./circle-check-C5kiwRoG.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-check-ETs8j4-d.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";import"./utils-BC5CVi_C.js";import"./chevron-left-DZH-lUm7.js";import"./endOfWeek-tX_WdcBG.js";import"./eachDayOfInterval-N9Sq06pl.js";import"./isSameDay-CGHMiO64.js";import"./differenceInCalendarDays-nctqlg7V.js";import"./ellipsis-BXWwt8ER.js";import"./plus-BaQ35Jcx.js";import"./list-BZOuFwEg.js";import"./separator-BWuYil37.js";import"./info-By5wLOUH.js";function Y({roadmapId:r,clientId:n,onEdit:h}){var g,N,b,v;const{data:t,isLoading:A}=z.roadmap.getStrategic.useQuery({roadmapId:r});if(A)return e.jsx("div",{className:"flex justify-center p-8",children:e.jsx(I,{className:"animate-spin h-8 w-8 text-primary"})});if(!t)return e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Roadmap not found"});let f={};try{t.description&&t.description.startsWith("{")&&(f=JSON.parse(t.description))}catch(s){console.error("Failed to parse roadmap description JSON",s)}const{businessContext:a,drivers:d,posture:c,metrics:j,governance:i,detailedObjectives:L}=f,P=L||(t.objectives||[]).map(s=>({title:s,priority:"Medium"}));return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto pb-12",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(l,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:t.framework||"General Strategy"}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["â€¢ Target: ",t.targetDate?K(new Date(t.targetDate),"PPP"):"Not defined"]}),e.jsx(l,{className:"ml-2 capitalize bg-blue-100 text-blue-700 hover:bg-blue-200 border-none",children:(g=t.status)==null?void 0:g.replace("_"," ")})]})]}),e.jsx(R,{onClick:()=>window.location.href=`/clients/${n}/roadmap/${r}/edit`,children:"Edit Configuration"})]}),e.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[e.jsxs("div",{className:"col-span-12 lg:col-span-8 space-y-6",children:[e.jsxs(m,{children:[e.jsx(o,{className:"pb-3",children:e.jsxs(x,{className:"text-lg flex items-center gap-2",children:[e.jsx(S,{className:"w-5 h-5 text-primary"}),"Strategic Context"]})}),e.jsxs(p,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-2 flex items-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"})," Organizational"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b pb-1 border-dashed",children:[e.jsx("span",{className:"text-muted-foreground",children:"Industry"}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.industry)||"Not set"})]}),e.jsxs("div",{className:"flex justify-between border-b pb-1 border-dashed pt-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Size"}),e.jsx("span",{className:"font-medium capitalize",children:(a==null?void 0:a.orgSize)||"Not set"})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("span",{className:"text-muted-foreground text-xs block mb-1",children:"Strategic Goals"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(N=a==null?void 0:a.goals)==null?void 0:N.map(s=>e.jsx(l,{variant:"secondary",className:"text-[10px]",children:s},s))})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground mb-2 flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"})," Risk & Posture"]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex justify-between border-b pb-1 border-dashed",children:[e.jsx("span",{className:"text-muted-foreground",children:"Maturity Level"}),e.jsx("span",{className:"font-medium",children:(c==null?void 0:c.maturityLevel)||"Initial"})]}),e.jsxs("div",{className:"flex justify-between border-b pb-1 border-dashed pt-1",children:[e.jsx("span",{className:"text-muted-foreground",children:"Risk Appetite"}),e.jsx("span",{className:"font-medium",children:a!=null&&a.riskAppetite?`${a.riskAppetite}/5`:"Not set"})]}),e.jsxs("div",{className:"pt-2",children:[e.jsx("span",{className:"text-muted-foreground text-xs block mb-1",children:"Critical Assets"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(b=c==null?void 0:c.keyAssets)==null?void 0:b.map(s=>e.jsx(l,{variant:"outline",className:"text-[10px]",children:s},s))})]})]})]})]})]}),e.jsxs(m,{children:[e.jsxs(o,{className:"pb-3",children:[e.jsxs(x,{className:"text-lg flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-primary"}),"Strategic Objectives"]}),e.jsx(O,{children:"Key milestones and deliverables for this roadmap"})]}),e.jsx(p,{className:"space-y-4",children:P.map((s,u)=>e.jsxs("div",{className:"p-4 border rounded-lg bg-card/50 hover:bg-card transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:s.title}),e.jsx(l,{variant:s.priority==="Critical"?"destructive":s.priority==="High"?"default":"secondary",className:"text-[10px] uppercase",children:s.priority})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-xs text-muted-foreground",children:[s.alignment&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"w-3 h-3"}),e.jsxs("span",{children:["Aligns: ",s.alignment]})]}),s.horizon&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"w-3 h-3"}),e.jsx("span",{children:s.horizon})]}),s.owner&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:s.owner})]}),s.estimatedHours&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-3 h-3"}),e.jsxs("span",{children:[s.estimatedHours,"h"]})]})]}),s.linkedRisks&&s.linkedRisks.length>0&&e.jsxs("div",{className:"mt-3 flex gap-2 items-center",children:[e.jsx("span",{className:"text-[10px] text-muted-foreground font-medium uppercase",children:"Mitigates:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.linkedRisks.map(y=>e.jsxs(l,{variant:"outline",className:"text-[10px] h-5 border-warning/30 text-amber-700 bg-amber-50",children:[e.jsx(w,{className:"w-2.5 h-2.5 mr-1"}),y]},y))})]})]},u))})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-4 space-y-6",children:[e.jsxs(m,{children:[e.jsx(o,{className:"pb-3 border-b bg-muted/20",children:e.jsxs(x,{className:"text-sm font-bold uppercase tracking-wide text-muted-foreground flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"})," Success Metrics"]})}),e.jsx(p,{className:"pt-4 space-y-4",children:j&&j.length>0?j.map((s,u)=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"font-medium text-gray-700",children:s.name}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"block font-bold text-primary",children:[s.type==="Currency"?"$":"",s.targetValue,s.type==="Percentage"?"%":""]}),e.jsx("span",{className:"text-[10px] text-muted-foreground uppercase",children:s.frequency})]})]},u)):e.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No specific KPIs defined."})})]}),e.jsxs(m,{children:[e.jsx(o,{className:"pb-3 border-b bg-muted/20",children:e.jsxs(x,{className:"text-sm font-bold uppercase tracking-wide text-muted-foreground flex items-center gap-2",children:[e.jsx(J,{className:"w-4 h-4"})," Governance"]})}),e.jsxs(p,{className:"pt-4 space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Review Cadence"}),e.jsx("span",{className:"font-medium",children:(i==null?void 0:i.reviewCadence)||"Not set"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Oversight Body"}),e.jsx("span",{className:"font-medium",children:(i==null?void 0:i.oversightCommittee)||"Not defined"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Reporting Format"}),e.jsx("span",{className:"font-medium",children:(i==null?void 0:i.reportingFormat)||"Standard"})]})]})]}),e.jsxs(m,{children:[e.jsx(o,{className:"pb-3 border-b bg-muted/20",children:e.jsxs(x,{className:"text-sm font-bold uppercase tracking-wide text-muted-foreground flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"})," Drivers"]})}),e.jsxs(p,{className:"pt-4 space-y-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Frameworks"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:((v=d==null?void 0:d.frameworks)==null?void 0:v.map(s=>e.jsx(l,{variant:"outline",className:"text-[10px]",children:s},s)))||e.jsx("span",{className:"italic text-muted-foreground",children:"None"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-muted-foreground block",children:"Audit Type"}),e.jsx("span",{className:"font-medium capitalize",children:(d==null?void 0:d.auditType)||"Standard"})]})]})]})]})]})]})}function _e(){const r=F(),n=r.roadmapId?parseInt(r.roadmapId,10):null,h=r.id?parseInt(r.id,10):null;return!n||!h?e.jsx(T,{children:e.jsx("div",{className:"p-8",children:"Invalid URL parameters"})}):e.jsx(T,{children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"px-8 pt-6 pb-2 flex justify-between items-start",children:[e.jsx(G,{href:`/clients/${h}/roadmap/dashboard`,children:e.jsxs(R,{variant:"ghost",size:"sm",className:"gap-2 mb-4 pl-0 hover:pl-2 transition-all",children:[e.jsx(X,{className:"h-4 w-4"})," Back to Dashboard"]})}),e.jsx(_,{title:"Roadmap Details",description:"Deep dive into a specific strategic roadmap.",rationale:"Provides focused visibility into a specific compliance initiative's progress and blockers.",howToUse:[{step:"Strategic Tab",description:"View GANTT charts and high-level milestones."},{step:"Execution Tab",description:"Manage individual tasks and assignees."},{step:"Edit Configuration",description:"Adjust roadmap settings via the Edit button."}],integrations:[{name:"Task Tracker",description:"Updates task status in real-time."},{name:"Timeline View",description:"Visualizes dependencies."}]})]}),e.jsx("div",{className:"flex-1 px-8",children:e.jsxs(Q,{defaultValue:"strategy",className:"space-y-6",children:[e.jsxs(W,{children:[e.jsxs(C,{value:"strategy",className:"gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"Strategic Plan"]}),e.jsxs(C,{value:"execution",className:"gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Execution Board"]})]}),e.jsx(D,{value:"strategy",className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:e.jsx(Y,{roadmapId:n,clientId:h})}),e.jsx(D,{value:"execution",className:"animate-in fade-in slide-in-from-bottom-2 duration-300",children:e.jsx($,{planId:n})})]})})]})})}export{_e as default};

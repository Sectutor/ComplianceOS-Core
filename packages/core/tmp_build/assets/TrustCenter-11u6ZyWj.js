import{au as te,r as l,t as n,i as d,j as e,C as o,S as L,c as m,x as O,d as x,e as h,m as u,k as y,f as U,D as ae,o as re,q as le,s as ie,L as v,I as w}from"./index-DOc7Nwb7.js";import{c as ne}from"./utils-BC5CVi_C.js";import{D as _}from"./download-ByfWg1Mi.js";import{G as P}from"./globe-BMGZmoaJ.js";import{C as $}from"./circle-check-C5kiwRoG.js";import{L as M}from"./lock-czWF3qbC.js";import{A as V}from"./arrow-right-M96iV-v9.js";import{R as oe,T as ce}from"./generateCategoricalChart-KNLgM3hn.js";import{A as de,C as me,a as xe}from"./AreaChart-9xo6-aIN.js";import{X as he,Y as ue}from"./YAxis-DC4HJ4F3.js";import{M as pe}from"./mail-xRDvl6QK.js";import"./isEqual-D_xcZLCn.js";const ge=[{id:1,name:"ISO 27001:2022 Certificate",locked:!1,category:"Certification",date:"Expires Dec 2026"},{id:2,name:"SOC 2 Type II Report (2025)",locked:!0,category:"Audit Report",date:"Jan 2025"},{id:3,name:"Mutual Data Processing Agreement (DPA)",locked:!1,category:"Legal",date:"v2.4 Latest"},{id:4,name:"Annual Penetration Test Results",locked:!0,category:"Security",date:"Nov 2025"}],be=[{month:"Jan",score:85},{month:"Feb",score:88},{month:"Mar",score:92},{month:"Apr",score:94},{month:"May",score:96},{month:"Jun",score:98}],fe=[{name:"SOC 2 Type II",status:"Compliant",date:"Dec 2025",color:"#22c55e"},{name:"ISO 27001",status:"In Progress",date:"Target: Q2 2026",color:"#f59e0b"},{name:"GDPR",status:"Compliant",date:"Ongoing",color:"#3b82f6"},{name:"HIPAA",status:"Compliant",date:"Audited Nov 2025",color:"#8b5cf6"}];function Oe(){const[je,g]=te("/trust-center/:clientId"),t=g!=null&&g.clientId?parseInt(g.clientId):0,[W,k]=l.useState(!1),[C,c]=l.useState(1),[F,E]=l.useState(""),[A,q]=l.useState(""),[b,Y]=l.useState(""),[S,z]=l.useState(""),[D,J]=l.useState(null),[G,I]=l.useState(null),{data:a}=n.clients.get.useQuery({id:t},{enabled:!!t&&!isNaN(t)&&t>0}),{data:p}=n.compliance.getReadinessData.useQuery({clientId:t},{enabled:!!t&&!isNaN(t)&&t>0}),{data:f}=n.compliance.frameworkStats.list.useQuery({clientId:t},{enabled:!!t&&!isNaN(t)&&t>0}),{data:R}=n.trustCenter.getPublicData.useQuery({clientId:t},{enabled:!!t&&!isNaN(t)&&t>0}),{data:r}=n.trustCenter.getAccessStatus.useQuery({clientId:t},{enabled:!!t&&!isNaN(t)&&t>0}),j=(R==null?void 0:R.documents)||[],K=j.length>0?j:ge,B=Array.isArray(f)&&f.length>0?f:fe;console.log("[TrustCenter] Render Debug:",{readinessKeys:p?Object.keys(p):"null",frameworkStatsIsArray:Array.isArray(f),displayFrameworksLen:B.length});const N=n.trustCenter.requestAccess.useMutation({onSuccess:s=>{I(s.visitorId),c(2),d.success("Identity verified.")},onError:s=>{d.error(s.message)}}),T=n.trustCenter.signNDA.useMutation({onSuccess:()=>{c(3),d.success("NDA Signed Successfully")},onError:s=>{d.error(s.message)}}),X=s=>{s.preventDefault(),N.mutate({clientId:t,email:F,name:A,company:S})},Z=()=>{!b||!G||T.mutate({clientId:t,visitorId:G,signatureText:b})},ee=s=>{if(!(s.locked||s.is_locked||s.isLocked)){d.success(`Broadcasting public document: ${s.name}`);return}if(J(s),k(!0),r!=null&&r.signed)c(3),I(r.visitorId||null);else if(r!=null&&r.isLoggedIn||r!=null&&r.user){const i=r.user;i?(E(i.email),q(i.name||""),z(i.company||""),r.visitorId?(I(r.visitorId),c(2)):N.mutate({clientId:t,email:i.email,name:i.name||"User",company:i.company||"Internal"})):c(1)}else c(1)},H=!a&&!isNaN(t)&&t>0,se=!a&&!H&&!!t;return!t||isNaN(t)||t<=0||se?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-10",children:e.jsxs(o,{className:"max-w-md w-full border-0 shadow-2xl p-10 text-center rounded-3xl",children:[e.jsx("div",{className:"h-20 w-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(L,{className:"h-10 w-10 text-red-400"})}),e.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tighter",children:"Trust Center Not Found"}),e.jsx("p",{className:"text-slate-500 mt-4 leading-relaxed font-medium",children:"The Trust Center you are looking for does not exist or has been moved. Please contact the organization's security team for a valid link."}),e.jsx(m,{variant:"outline",className:"mt-8 w-full h-12 rounded-xl font-bold border-slate-200",onClick:()=>window.location.href="/",children:"Return Home"})]})}):H?e.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(O,{className:"h-12 w-12 text-primary animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-500 font-bold animate-pulse",children:"Establishing Secure Connection..."})]})}):e.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans pb-20",children:[e.jsxs("div",{className:"bg-slate-900 text-white pt-20 pb-32 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 pointer-events-none",children:[e.jsx("div",{className:"absolute right-0 top-0 w-[800px] h-[800px] bg-indigo-500 rounded-full blur-[120px] mix-blend-screen opacity-30 animate-pulse"}),e.jsx("div",{className:"absolute left-0 bottom-0 w-[600px] h-[600px] bg-primary rounded-full blur-[100px] mix-blend-screen opacity-20"})]}),e.jsxs("div",{className:"container mx-auto px-6 relative z-10 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 text-blue-300 text-sm font-medium mb-6 border border-white/10 backdrop-blur-sm",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:"Official ComplianceOS Trust Center"})]}),e.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6 tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:[(a==null?void 0:a.name)||"Company"," Security"]}),e.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto mb-10 leading-relaxed",children:"Transparency is at the core of our security program. Access our real-time compliance metrics, certifications, and security documentation."}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs(m,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground border-0 shadow-lg shadow-primary/20 font-bold h-14 px-8",children:[e.jsx(_,{className:"mr-2 h-5 w-5"})," Request Audit Bundle"]}),e.jsxs(m,{size:"lg",variant:"outline",className:"text-white border-white/20 hover:bg-white/10 h-14 px-8",children:[e.jsx(P,{className:"mr-2 h-5 w-5"})," Main Website"]})]})]})]}),e.jsxs("div",{className:"container mx-auto px-6 -mt-20 relative z-20",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[e.jsxs(o,{className:"bg-white/95 backdrop-blur-md border-0 shadow-2xl ring-1 ring-slate-900/5",children:[e.jsx(x,{className:"pb-2",children:e.jsxs(h,{className:"flex items-center gap-2 text-slate-700 text-sm uppercase tracking-wider font-bold",children:[e.jsx($,{className:"h-4 w-4 text-green-500"})," Infrastructure Status"]})}),e.jsxs(u,{children:[e.jsx("div",{className:"text-3xl font-black text-slate-900",children:"All Systems Normal"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1 font-medium",children:"99.99% Uptime (Last 90 days)"})]})]}),e.jsxs(o,{className:"bg-white/95 backdrop-blur-md border-0 shadow-2xl ring-1 ring-slate-900/5",children:[e.jsx(x,{className:"pb-2",children:e.jsxs(h,{className:"flex items-center gap-2 text-slate-700 text-sm uppercase tracking-wider font-bold",children:[e.jsx(M,{className:"h-4 w-4 text-indigo-500"})," Data Sovereignty"]})}),e.jsxs(u,{children:[e.jsx("div",{className:"text-3xl font-black text-slate-900",children:"EU & US Regions"}),e.jsx("p",{className:"text-slate-500 text-xs mt-1 font-medium",children:"AES-256 Encryption at Rest"})]})]}),e.jsxs(o,{className:"bg-white/95 backdrop-blur-md border-0 shadow-2xl ring-1 ring-slate-900/5",children:[e.jsx(x,{className:"pb-2",children:e.jsxs(h,{className:"flex items-center gap-2 text-slate-700 text-sm uppercase tracking-wider font-bold",children:[e.jsx(P,{className:"h-4 w-4 text-blue-500"})," Compliance Posture"]})}),e.jsxs(u,{children:[e.jsxs("div",{className:"text-3xl font-black text-slate-900",children:[(p==null?void 0:p.complianceScore)||0,"% Score"]}),e.jsx("p",{className:"text-slate-500 text-xs mt-1 font-medium",children:"Continuously Audited via ComplianceOS"})]})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Security Artifacts"}),e.jsx("p",{className:"text-slate-500",children:j.length>0?`Showing ${j.length} live security artifacts for ${(a==null?void 0:a.name)||"this client"}.`:"Access our latest certifications and security audit reports."})]}),e.jsx(y,{className:"bg-primary/10 text-primary border-none text-xs px-4 py-1.5 font-bold uppercase tracking-tighter",children:"Direct Download Available"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:K.map(s=>e.jsxs(o,{className:"group hover:scale-105 transition-all duration-300 border-0 shadow-lg overflow-hidden bg-white cursor-pointer",onClick:()=>ee(s),children:[e.jsxs(x,{className:"pb-1",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(y,{variant:"outline",className:"bg-slate-50 border-slate-200 text-slate-500 text-[10px] font-bold px-2",children:s.category}),s.isLocked||s.is_locked?e.jsx("div",{className:"p-1.5 bg-amber-50 rounded-lg",children:e.jsx(M,{className:"h-4 w-4 text-amber-500"})}):e.jsx("div",{className:"p-1.5 bg-green-50 rounded-lg",children:e.jsx(P,{className:"h-4 w-4 text-green-500"})})]}),e.jsx(h,{className:"text-lg font-black leading-tight group-hover:text-primary transition-colors",children:s.name})]}),e.jsx(u,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400 font-bold",children:s.date||(s.created_at?new Date(s.created_at).toLocaleDateString():"Active")}),e.jsxs("div",{className:"text-primary font-black text-xs flex items-center gap-1 group-hover:gap-2 transition-all",children:[s.isLocked||s.is_locked?"Request Access":"Download Now",e.jsx(V,{className:"h-4 w-4"})]})]})}),(s.isLocked||s.is_locked)&&e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-amber-500/10 group-hover:bg-amber-500 transition-colors"})]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[e.jsxs(o,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[e.jsxs(x,{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx(h,{className:"text-xl font-black",children:"Active Frameworks"}),e.jsx(U,{children:"Live status of our current compliance standards."})]}),e.jsx(u,{className:"p-0",children:e.jsx("div",{className:"divide-y divide-slate-50",children:B.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-6 hover:bg-slate-50/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl flex items-center justify-center bg-white shadow-sm border border-slate-100 font-black text-primary text-sm",children:(s.framework||s.name).split(" ").map(Q=>Q[0]).join("")}),e.jsxs("div",{children:[e.jsx("div",{className:"font-black text-slate-900",children:s.framework||s.name}),e.jsx("div",{className:"text-xs text-slate-400 font-bold",children:s.percentage!==void 0?`${s.implemented} / ${s.total} Controls Implemented`:s.date})]})]}),e.jsx(y,{className:ne("px-3 py-1 font-bold text-[10px] uppercase",s.percentage>=100||s.status==="Compliant"?"bg-green-100 text-green-700 border-none":s.percentage>0||s.status==="In Progress"?"bg-amber-100 text-amber-700 border-none":"bg-slate-100 text-slate-600"),children:s.percentage!==void 0?`${s.percentage}%`:s.status})]},s.framework||s.name))})})]}),e.jsxs(o,{className:"border-0 shadow-xl bg-white overflow-hidden",children:[e.jsxs(x,{className:"bg-slate-50/50 border-b border-slate-100",children:[e.jsx(h,{className:"text-xl font-black",children:"Compliance Maturity"}),e.jsx(U,{children:"Rolling 6-month security posture trend."})]}),e.jsxs(u,{className:"p-8",children:[e.jsx("div",{className:"h-[250px]",children:e.jsx(oe,{width:"100%",height:"100%",children:e.jsxs(de,{data:be,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),e.jsx(me,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),e.jsx(he,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b",fontWeight:"bold"}}),e.jsx(ue,{hide:!0,domain:[60,100]}),e.jsx(ce,{contentStyle:{backgroundColor:"#fff",borderRadius:"12px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#0f172a",fontWeight:"900"}}),e.jsx(xe,{type:"monotone",dataKey:"score",stroke:"#6366f1",strokeWidth:4,fillOpacity:1,fill:"url(#colorScore)"})]})})}),e.jsxs("div",{className:"mt-6 flex items-center justify-between pt-6 border-t border-slate-50",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-3xl font-black text-slate-900",children:"+15%"}),e.jsx("div",{className:"text-xs text-slate-500 font-bold uppercase tracking-widest",children:"Growth in 2025"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(y,{className:"bg-green-500 text-white border-0 font-bold mb-1",children:"Health: Optimal"}),e.jsx("div",{className:"text-xs text-slate-400 font-medium italic",children:"Verified by AI Audit Agent"})]})]})]})]})]}),e.jsxs("div",{className:"text-center text-slate-400 text-sm mt-20 pt-10 border-t border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(L,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-black text-slate-600 tracking-tighter uppercase text-xs",children:"Secured & Monitored by ComplianceOS v4.0"})]}),e.jsxs("p",{className:"font-medium",children:["Â© ",new Date().getFullYear()," ",(a==null?void 0:a.name)||"Company",". Internal Use Only. NDA Restricted."]})]})]}),e.jsx(ae,{open:W,onOpenChange:k,children:e.jsxs(re,{className:"sm:max-w-[550px] border-0 shadow-2xl p-0 overflow-hidden bg-white rounded-3xl",children:[e.jsxs("div",{className:"bg-slate-900 p-10 text-white relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-primary/30 rounded-full blur-3xl -mr-16 -mt-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-indigo-500/20 rounded-full blur-2xl -ml-12 -mb-12"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 text-primary text-[10px] font-black uppercase mb-4 border border-white/10 backdrop-blur-sm relative z-10",children:[e.jsx(M,{className:"h-3 w-3"}),e.jsx("span",{children:"Security Clearance Required"})]}),e.jsx(le,{className:"text-3xl font-black tracking-tighter relative z-10 leading-tight",children:"Access Restricted Artifact"}),e.jsxs(ie,{className:"text-slate-400 mt-2 font-medium relative z-10",children:["You are requesting sensitive documentation: ",e.jsx("span",{className:"text-white font-black",children:D==null?void 0:D.name})]})]}),e.jsxs("div",{className:"p-10",children:[C===1&&e.jsxs("form",{onSubmit:X,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"name",className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Full Name"}),e.jsx(w,{id:"name",placeholder:"Alice Auditor",className:"h-14 bg-slate-50 border-slate-200 font-bold focus:ring-primary rounded-xl",value:A,onChange:s=>q(s.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"company",className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Company"}),e.jsx(w,{id:"company",placeholder:"HSBC Bank",className:"h-14 bg-slate-50 border-slate-200 font-bold rounded-xl",value:S,onChange:s=>z(s.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{htmlFor:"email",className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Work Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{id:"email",type:"email",placeholder:"alice@hsbc.co.uk",className:"h-14 bg-slate-50 border-slate-200 font-bold pl-12 rounded-xl",value:F,onChange:s=>E(s.target.value),required:!0}),e.jsx(pe,{className:"absolute left-4 top-4.5 h-5 w-5 text-slate-400"})]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium italic",children:"Competition filter enabled. Personal emails (Gmail/Outlook) will be flagged."})]})]}),e.jsxs(m,{type:"submit",className:"w-full h-14 bg-slate-900 hover:bg-slate-800 text-white font-black text-lg shadow-xl shadow-slate-200 rounded-xl",disabled:N.isPending,children:[N.isPending?e.jsx(O,{className:"animate-spin"}):"Request Authorization",e.jsx(V,{className:"ml-2 h-5 w-5"})]})]}),C===2&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-2xl p-6 h-[220px] overflow-y-auto text-[11px] text-slate-600 leading-relaxed font-mono shadow-inner",children:[e.jsx("h4",{className:"font-black text-slate-900 mb-4 uppercase text-xs tracking-tighter",children:"Mutual Non-Disclosure Agreement (Short Form)"}),'This Mutual Non-Disclosure Agreement (the "Agreement") is made and entered into as of today by and between ',e.jsx("span",{className:"text-primary font-bold",children:(a==null?void 0:a.name)||"The Company"})," and ",e.jsxs("span",{className:"text-black font-bold",children:[A," (",S,")"]}),".",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"font-bold",children:"1. Confidentiality:"})," The Recipient agrees to hold and maintain the Confidential Information in strict confidence and use it solely for evaluating the Disclosing Party's security controls.",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"font-bold",children:"2. Digital Footprint:"})," By signing this document, your IP address, browser fingerprint, and verified email are being logged as a legal record of access to proprietary data.",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"font-bold",children:"3. Terms:"})," This agreement remains in effect for three (3) years from the date of disclosure."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(v,{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:"Type Full Name to Sign"}),e.jsx(w,{placeholder:"ALICE AUDITOR",className:"h-16 bg-white border-slate-200 font-serif italic text-2xl text-slate-900 tracking-tighter px-6 rounded-xl border-2 focus:border-green-500 transition-all",value:b,onChange:s=>Y(s.target.value)}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:"This signature carries the same legal weight as a physical signature."})]}),e.jsx(m,{onClick:Z,className:"w-full h-16 bg-green-600 hover:bg-green-700 text-white font-black text-xl shadow-2xl shadow-green-100 rounded-xl",disabled:!b||T.isPending,children:T.isPending?e.jsx(O,{className:"animate-spin h-6 w-6"}):"Confirm & Generate Access"})]}),C===3&&e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{className:"h-24 w-24 bg-green-50 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner",children:e.jsx($,{className:"h-12 w-12 text-green-500"})}),e.jsx("h3",{className:"text-3xl font-black text-slate-900 tracking-tighter",children:"Security Pass Issued"}),e.jsx("p",{className:"text-slate-500 mt-2 mb-10 font-medium",children:"Verification complete. A unique download token has been generated for your session."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(m,{className:"w-full h-16 bg-slate-900 hover:bg-slate-800 text-white font-black text-lg rounded-xl shadow-xl",onClick:()=>{k(!1),d.success("Initializing Secure Stream...")},children:[e.jsx(_,{className:"mr-2 h-6 w-6"})," Download SOC 2 Report"]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Token Expires in 48 Hours"})]})]})]})]})})]})}export{Oe as default};

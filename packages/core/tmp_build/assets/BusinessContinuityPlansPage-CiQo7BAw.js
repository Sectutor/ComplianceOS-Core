import{ab as x,b as h,t as p,j as e,c as n,I as b,C as u,d as j,e as g,f as y,m as N,N as f,O as w,P as l,Q as i,V as v,W as t,F as C,k as c}from"./index-DOc7Nwb7.js";import{B as D}from"./Breadcrumb-CRi3LAxS.js";import{D as P}from"./DashboardLayout-aHnUqq57.js";import{A as T}from"./arrow-left-CpuUojG-.js";import{P as B}from"./plus-BaQ35Jcx.js";import{S as L}from"./search-CwuIBBPE.js";import"./index--2vFva6Y.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./circle-check-C5kiwRoG.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./book-open-BffBrdze.js";import"./zap-B01fFOkT.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./target-cfAj3L6j.js";import"./database-Bjtecw5f.js";import"./activity-B1F2IRm3.js";import"./shield-check-ETs8j4-d.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";function he(){const d=x(),[S,o]=h(),a=parseInt(d.id||"0"),{data:r,isLoading:m}=p.businessContinuity.plans.list.useQuery({clientId:a});return e.jsx(P,{children:e.jsxs("div",{className:"space-y-6 w-full max-w-full p-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx(D,{items:[{label:"Clients",href:"/clients"},{label:"Business Continuity",href:`/clients/${a}/business-continuity`},{label:"Recovery Plans",href:`/clients/${a}/business-continuity/plans`}]}),e.jsxs(n,{variant:"ghost",size:"sm",className:"mt-2 -ml-3 text-muted-foreground hover:text-foreground",onClick:()=>o(`/clients/${a}/business-continuity`),children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),"Back to BC Dashboard"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Recovery Plans"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage and version control your business continuity plans."})]}),e.jsxs(n,{onClick:()=>o(`/clients/${a}/business-continuity/plans/new`),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(B,{className:"mr-2 h-4 w-4"})," New Plan"]})]}),e.jsx("div",{className:"flex gap-4 items-center bg-card p-4 rounded-xl border shadow-sm",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(L,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(b,{placeholder:"Search plans...",className:"pl-9"})]})}),e.jsxs(u,{children:[e.jsxs(j,{children:[e.jsx(g,{children:"Plan Repository"}),e.jsx(y,{children:"All generated recovery plans and their status."})]}),e.jsx(N,{children:e.jsx("div",{className:"rounded-xl border border-slate-200 shadow-lg overflow-hidden bg-white",children:e.jsxs(f,{children:[e.jsx(w,{children:e.jsxs(l,{className:"bg-[#1C4D8D] hover:bg-[#1C4D8D] border-none",children:[e.jsx(i,{className:"text-white font-semibold py-4",children:"Plan Title"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Version"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Status"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Verified"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Last Updated"}),e.jsx(i,{className:"text-white font-semibold py-4",children:"Actions"})]})}),e.jsxs(v,{children:[m&&e.jsx(l,{children:e.jsx(t,{colSpan:6,className:"text-center py-8 bg-white text-gray-500",children:"Loading..."})}),(r==null?void 0:r.length)===0&&e.jsx(l,{children:e.jsx(t,{colSpan:6,className:"text-center py-12 text-gray-500 bg-white",children:"No plans found. Create one to get started."})}),r==null?void 0:r.map(s=>e.jsxs(l,{className:"bg-white border-b border-slate-200 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm group",children:[e.jsx(t,{className:"font-medium py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-black",children:[e.jsx(C,{className:"w-4 h-4 text-blue-500"}),s.title]})}),e.jsx(t,{className:"py-4",children:e.jsx(c,{variant:"outline",className:"bg-white border-gray-300 text-gray-700",children:s.version})}),e.jsx(t,{className:"py-4",children:e.jsx(c,{className:s.status==="approved"?"bg-green-100 text-green-800 border border-green-200":"bg-yellow-100 text-yellow-800 border border-yellow-200",children:s.status})}),e.jsx(t,{className:"text-gray-600 py-4",children:s.lastTestedDate?new Date(s.lastTestedDate).toLocaleDateString():"-"}),e.jsx(t,{className:"text-gray-500 py-4",children:s.updatedAt?new Date(s.updatedAt).toLocaleDateString():"-"}),e.jsx(t,{className:"py-4",children:e.jsx(n,{variant:"ghost",size:"sm",className:"hover:bg-[#1C4D8D]/10 hover:text-[#1C4D8D] transition-colors duration-200",onClick:()=>o(`/clients/${a}/business-continuity/plans/${s.id}`),children:"Edit"})})]},s.id))]})]})})})]})]})})}export{he as default};

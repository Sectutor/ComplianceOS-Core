import{r,b as N,j as e,C as i,d as c,e as o,f as d,m,ay as x,c as u,S as y,L as b,I as C,x as k,aq as v,ax as L,i as h}from"./index-DOc7Nwb7.js";import{C as S}from"./circle-check-C5kiwRoG.js";import{A as E}from"./arrow-left-CpuUojG-.js";function B(){const[a,f]=r.useState(""),[l,n]=r.useState(!1),[j,p]=r.useState(!1),[,g]=N(),w=async t=>{t.preventDefault(),n(!0);try{const{error:s}=await L.auth.resetPasswordForEmail(a,{redirectTo:`${window.location.origin}/update-password`});if(s)throw s;p(!0),h.success("Password reset email sent!")}catch(s){h.error(s.message||"Failed to send reset email")}finally{n(!1)}};return j?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted/40 p-4",children:e.jsxs(i,{className:"w-full max-w-md shadow-lg border-muted/60",children:[e.jsxs(c,{className:"text-center space-y-2",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:e.jsx(S,{className:"h-8 w-8 text-green-600"})})}),e.jsx(o,{className:"text-2xl font-bold",children:"Check your email"}),e.jsxs(d,{className:"text-base",children:["We've sent a password reset link to ",e.jsx("span",{className:"font-semibold text-foreground",children:a})]})]}),e.jsxs(m,{className:"text-center text-sm text-muted-foreground",children:[e.jsx("p",{children:"Click the link in the email to set a new password."}),e.jsx("p",{className:"mt-2 text-xs",children:"If you don't see it, check your spam folder."})]}),e.jsx(x,{className:"flex justify-center",children:e.jsx(u,{variant:"outline",onClick:()=>g("/login"),className:"w-full",children:"Back to Login"})})]})}):e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-muted/40 p-4",children:[e.jsxs("div",{className:"mb-8 flex items-center gap-2",children:[e.jsx(y,{className:"h-8 w-8 text-primary"}),e.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Compliance OS"})]}),e.jsxs(i,{className:"w-full max-w-md shadow-lg border-muted/60",children:[e.jsxs(c,{className:"space-y-1",children:[e.jsx(o,{className:"text-2xl font-bold",children:"Reset Password"}),e.jsx(d,{children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsx(m,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"email",children:"Email"}),e.jsx(C,{id:"email",type:"email",placeholder:"name@example.com",value:a,onChange:t=>f(t.target.value),required:!0})]}),e.jsx(u,{type:"submit",className:"w-full",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending link..."]}):"Send Reset Link"})]})}),e.jsx(x,{className:"flex justify-center",children:e.jsxs(v,{href:"/login",className:"text-sm text-muted-foreground hover:text-primary flex items-center gap-1 transition-colors",children:[e.jsx(E,{className:"h-3 w-3"})," Back to Login"]})})]})]})}export{B as default};

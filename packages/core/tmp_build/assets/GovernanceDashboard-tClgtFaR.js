import{ab as M,t as m,j as e,k as O,C as a,m as i,c,d as o,e as l,S as x,f as g,U as z,T as f,F as b,aq as d}from"./index-DOc7Nwb7.js";import{D as Q,L as U}from"./DashboardLayout-aHnUqq57.js";import{P as B}from"./PageGuide-CPKKXXS6.js";import{B as H}from"./book-open-BffBrdze.js";import{A as K}from"./arrow-right-M96iV-v9.js";import{Z as E}from"./zap-B01fFOkT.js";import{T as F}from"./target-cfAj3L6j.js";import{C as W}from"./circle-check-big-BSqJVrgh.js";import{A as S}from"./activity-B1F2IRm3.js";import{T as q}from"./trending-up-eUiO956o.js";import{R as X,T as Y,k as Z}from"./generateCategoricalChart-KNLgM3hn.js";import{A as V,C as D,a as T}from"./AreaChart-9xo6-aIN.js";import{X as J,Y as _}from"./YAxis-DC4HJ4F3.js";import"./index--2vFva6Y.js";import"./search-CwuIBBPE.js";import"./filter-Ceo--4mb.js";import"./clipboard-check-CQkJX5J0.js";import"./sparkles-CoQ80pK2.js";import"./send-FW7-3cjH.js";import"./scroll-area-DPaNxEJD.js";import"./settings-CIu9FFiX.js";import"./circle-check-C5kiwRoG.js";import"./en-US-Bfz1jvxT.js";import"./getTimezoneOffsetInMilliseconds-em2BGgN1.js";import"./rocket-C2MuHhsn.js";import"./scale-BCebIfgE.js";import"./layout-grid-CGqkIAJU.js";import"./star-BTvaCCU4.js";import"./briefcase-BxorFA78.js";import"./database-Bjtecw5f.js";import"./shield-check-ETs8j4-d.js";import"./shield-alert-iAruRy4W.js";import"./brain-C-Zi22rJ.js";import"./link-FmUqdGRG.js";import"./lock-czWF3qbC.js";import"./globe-BMGZmoaJ.js";import"./calendar-BlLJlGbj.js";import"./message-square-5hBo7zY3.js";import"./upload-BBmUECj8.js";import"./user-CqRnJLgW.js";import"./separator-BWuYil37.js";import"./info-By5wLOUH.js";import"./isEqual-D_xcZLCn.js";function Ee(){var j,u,v,N,w,y,k,C,R,A;const G=M(),t=parseInt(G.id||"0"),{data:p}=m.governance.getStats.useQuery({clientId:t}),{data:s}=m.compliance.getReadinessData.useQuery({clientId:t}),{data:n}=m.risks.getKRIStats.useQuery({clientId:t}),{data:h,isLoading:$}=m.governance.getActivityTrend.useQuery({clientId:t},{enabled:!!t}),L=(u=(j=s==null?void 0:s.coverage)==null?void 0:j.policyStats)!=null&&u.total?Math.round(s.coverage.policyStats.approved/s.coverage.policyStats.total*100):0,P=(N=(v=s==null?void 0:s.coverage)==null?void 0:v.controlStats)!=null&&N.total?Math.round(s.coverage.controlStats.implemented/s.coverage.controlStats.total*100):0;return e.jsx(Q,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 flex items-center gap-3",children:["Governance Dashboard",e.jsx(O,{className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white border-none px-3 py-1 text-[10px] font-bold tracking-widest shadow-lg shadow-indigo-200 uppercase",children:"Premium"})]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Establish robust governance, manage policies, and orchestrate compliance workflows."})]}),e.jsx(B,{title:"Governance Dashboard",description:"Establish robust governance, manage policies, and orchestrate compliance workflows.",rationale:"A strong governance framework ensures that security activities are aligned with business goals and compliance requirements.",howToUse:[{step:"Monitor Health",description:"Track your overall Governance Health Score and key compliance metrics."},{step:"Review Controls",description:"Check the 'Control Readiness' card to see implementation progress."},{step:"Manage Tasks",description:"Use 'Quick Actions' to draft policies or manage tasks."}],integrations:[{name:"Policies",description:"Draft and approve policies."},{name:"Controls",description:"Map and implement controls."},{name:"Risk Register",description:"Assess and mitigate risks."}]})]}),e.jsx(a,{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-100 mb-6",children:e.jsxs(i,{className:"p-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl hidden sm:block",children:e.jsx(H,{className:"w-8 h-8 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-indigo-900 text-lg",children:"Governance Program Guide"}),e.jsx("p",{className:"text-indigo-700/80 max-w-2xl",children:"Learn how to build a strategic GRC program, from defining roles (RACI) to automating controls."})]})]}),e.jsxs(c,{className:"bg-indigo-600 hover:bg-indigo-700 text-white font-semibold whitespace-nowrap",children:["View Guide ",e.jsx(K,{className:"w-4 h-4 ml-2"})]})]})}),e.jsxs(a,{className:"bg-gradient-to-br from-slate-900 to-slate-800 text-white border-none shadow-lg overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 p-32 bg-indigo-500/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"}),e.jsxs(o,{children:[e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(x,{className:"w-6 h-6 text-indigo-400"}),"Getting Started with Governance"]}),e.jsx(g,{className:"text-slate-300",children:"Follow this linear workflow to establish your compliance baseline."})]}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 relative",children:[e.jsx("div",{className:"hidden md:block absolute top-6 left-10 right-10 h-0.5 bg-slate-700 -z-10"}),[{step:"1. Roles",title:"Define RACI",desc:"Assign accountability.",link:`/clients/${t}/raci-matrix`,icon:z,color:"text-blue-400",bg:"bg-blue-900/50",isComplete:!1},{step:"2. Controls",title:"Implement",desc:"Deploy security controls.",link:`/clients/${t}/controls`,icon:x,color:"text-emerald-400",bg:"bg-emerald-900/50",isComplete:(((w=s==null?void 0:s.controlStats)==null?void 0:w.implemented)||0)>0},{step:"3. Risks",title:"Assess Risk",desc:"Identify & mitigate risks.",link:`/clients/${t}/risk-register`,icon:f,color:"text-orange-400",bg:"bg-orange-900/50",isComplete:((n==null?void 0:n.unmitigatedCriticalRisks)||0)===0},{step:"4. Policies",title:"Codify",desc:"Draft and approve policies.",link:`/clients/${t}/policies`,icon:b,color:"text-amber-400",bg:"bg-amber-900/50",isComplete:(((y=s==null?void 0:s.policyStats)==null?void 0:y.approved)||0)>0},{step:"5. Automate",title:"Workflows",desc:"Automate evidence.",link:`/clients/${t}/workflows`,icon:E,color:"text-purple-400",bg:"bg-purple-900/50",isComplete:!1},{step:"6. Plan",title:"Roadmap",desc:"Strategic plans.",link:`/clients/${t}/roadmap/dashboard`,icon:F,color:"text-pink-400",bg:"bg-pink-900/50",isComplete:!1}].map((r,I)=>e.jsx(d,{href:r.link,children:e.jsxs("div",{className:`group relative flex flex-col items-center text-center p-4 rounded-xl transition-all cursor-pointer h-full border ${r.isComplete?"bg-white/5 border-emerald-500/30":"hover:bg-white/10 border-transparent hover:border-white/10"}`,children:[e.jsxs("div",{className:`w-12 h-12 rounded-full ${r.bg} flex items-center justify-center mb-3 shadow-lg group-hover:scale-110 transition-transform relative`,children:[e.jsx(r.icon,{className:`w-6 h-6 ${r.color}`}),r.isComplete&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-emerald-500 text-white rounded-full p-0.5 border-2 border-slate-900",children:e.jsx(W,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"text-xs font-bold uppercase tracking-wider text-slate-400 mb-1",children:r.step}),e.jsx("div",{className:"font-semibold mb-1 text-white text-sm",children:r.title}),e.jsx("div",{className:"text-xs text-slate-400 leading-snug",children:r.desc})]})},I))]})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(a,{className:"card-enhanced border-l-4 border-l-indigo-600 bg-indigo-50/50",children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-indigo-900",children:"Governance Health"}),e.jsx(S,{className:"h-4 w-4 text-indigo-600"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-3xl font-bold text-indigo-700",children:[(p==null?void 0:p.healthScore)||0,"%"]}),e.jsx("p",{className:"text-xs text-indigo-600 mt-1",children:"Overall System Health"})]})]}),e.jsxs(a,{className:"card-enhanced border-l-4 border-l-amber-500 bg-amber-50/50 cursor-pointer hover:bg-amber-100/50 transition-colors",onClick:()=>window.location.href=`/clients/${t}/policies`,children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-amber-900",children:"Policy Coverage"}),e.jsx(b,{className:"h-4 w-4 text-amber-600"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-3xl font-bold text-amber-700",children:[L,"%"]}),e.jsxs("p",{className:"text-xs text-amber-600 mt-1",children:[((k=s==null?void 0:s.policyStats)==null?void 0:k.approved)||0," / ",((C=s==null?void 0:s.policyStats)==null?void 0:C.total)||0," Approved"]})]})]}),e.jsxs(a,{className:"card-enhanced border-l-4 border-l-emerald-600 bg-emerald-50/50 cursor-pointer hover:bg-emerald-100/50 transition-colors",onClick:()=>window.location.href=`/clients/${t}/controls`,children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-emerald-900",children:"Control Readiness"}),e.jsx(x,{className:"h-4 w-4 text-emerald-600"})]}),e.jsxs(i,{children:[e.jsxs("div",{className:"text-3xl font-bold text-emerald-700",children:[P,"%"]}),e.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:[((R=s==null?void 0:s.controlStats)==null?void 0:R.implemented)||0," / ",((A=s==null?void 0:s.controlStats)==null?void 0:A.total)||0," Implemented"]})]})]}),e.jsxs(a,{className:"card-enhanced border-l-4 border-l-orange-500 bg-orange-50/50 cursor-pointer hover:bg-orange-100/50 transition-colors",onClick:()=>window.location.href=`/clients/${t}/risk-register`,children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium text-orange-900",children:"Risk Profile"}),e.jsx(f,{className:"h-4 w-4 text-orange-600"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-700",children:(n==null?void 0:n.unmitigatedCriticalRisks)||0}),e.jsx("p",{className:"text-xs text-orange-600 mt-1",children:"Critical Unmitigated Risks"})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(a,{className:"col-span-1 shadow-md border-none ring-1 ring-slate-200",children:[e.jsxs(o,{className:"pb-2",children:[e.jsxs(l,{className:"text-base font-semibold flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4 text-indigo-500"}),"Governance Activity"]}),e.jsx(g,{children:"Created vs Completed tasks (Last 30 days)"})]}),e.jsx(i,{className:"h-[300px] mt-4",children:!h||h.length===0||$?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center bg-slate-50/50 rounded-xl border border-dashed border-slate-200",children:[e.jsx(S,{className:"w-10 h-10 text-slate-300 mb-2 animate-pulse"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Loading activity data..."})]}):e.jsx(X,{width:"100%",height:"100%",children:e.jsxs(V,{data:h,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorCreated",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#4f46e5",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#4f46e5",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorCompleted",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),e.jsx(D,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),e.jsx(J,{dataKey:"displayDate",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},interval:6}),e.jsx(_,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#64748b"},allowDecimals:!1}),e.jsx(Y,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontSize:"12px"}}),e.jsx(Z,{iconType:"circle",wrapperStyle:{fontSize:"12px",paddingTop:"10px"}}),e.jsx(T,{type:"monotone",dataKey:"created",name:"Created",stroke:"#4f46e5",strokeWidth:2,fillOpacity:1,fill:"url(#colorCreated)"}),e.jsx(T,{type:"monotone",dataKey:"completed",name:"Completed",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorCompleted)"})]})})})]}),e.jsxs(a,{className:"col-span-1",children:[e.jsxs(o,{children:[e.jsx(l,{children:"Quick Actions"}),e.jsx(g,{children:"Common governance tasks"})]}),e.jsxs(i,{className:"grid gap-4",children:[e.jsx(d,{href:`/clients/${t}/policies/new`,children:e.jsxs(c,{variant:"outline",className:"w-full justify-start h-auto py-4 px-4 hover:bg-amber-50 hover:border-amber-200",children:[e.jsx(b,{className:"mr-4 h-6 w-6 text-amber-500"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-semibold",children:"Draft New Policy"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Create a policy using AI templates"})]})]})}),e.jsx(d,{href:`/clients/${t}/controls`,children:e.jsxs(c,{variant:"outline",className:"w-full justify-start h-auto py-4 px-4 hover:bg-emerald-50 hover:border-emerald-200",children:[e.jsx(x,{className:"mr-4 h-6 w-6 text-emerald-500"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-semibold",children:"Map Controls"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Link controls to frameworks"})]})]})}),e.jsx(d,{href:`/clients/${t}/risk-register`,children:e.jsxs(c,{variant:"outline",className:"w-full justify-start h-auto py-4 px-4 hover:bg-orange-50 hover:border-orange-200",children:[e.jsx(f,{className:"mr-4 h-6 w-6 text-orange-500"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-semibold",children:"Risk Register"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Manage and mitigate organizational risks"})]})]})}),e.jsx(d,{href:`/clients/${t}/governance/workbench`,children:e.jsxs(c,{variant:"outline",className:"w-full justify-start h-auto py-4 px-4 hover:bg-red-50 hover:border-red-200",children:[e.jsx(U,{className:"mr-4 h-6 w-6 text-red-500"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-semibold",children:"Manage Tasks"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Review pending governance items"})]})]})})]})]})]})]})})}export{Ee as default};
